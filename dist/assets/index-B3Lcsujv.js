(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Er(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const re={},es=[],tt=()=>{},cl=()=>!1,pn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Sr=t=>t.startsWith("onUpdate:"),ve=Object.assign,Tr=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},ul=Object.prototype.hasOwnProperty,X=(t,e)=>ul.call(t,e),q=Array.isArray,ts=t=>gn(t)==="[object Map]",po=t=>gn(t)==="[object Set]",V=t=>typeof t=="function",fe=t=>typeof t=="string",Ot=t=>typeof t=="symbol",ce=t=>t!==null&&typeof t=="object",go=t=>(ce(t)||V(t))&&V(t.then)&&V(t.catch),mo=Object.prototype.toString,gn=t=>mo.call(t),hl=t=>gn(t).slice(8,-1),_o=t=>gn(t)==="[object Object]",Pr=t=>fe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Es=Er(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mn=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},fl=/-(\w)/g,Tt=mn(t=>t.replace(fl,(e,s)=>s?s.toUpperCase():"")),dl=/\B([A-Z])/g,Ft=mn(t=>t.replace(dl,"-$1").toLowerCase()),vo=mn(t=>t.charAt(0).toUpperCase()+t.slice(1)),jn=mn(t=>t?`on${vo(t)}`:""),Pt=(t,e)=>!Object.is(t,e),tn=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},yo=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},er=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let ei;const bo=()=>ei||(ei=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Or(t){if(q(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],r=fe(n)?_l(n):Or(n);if(r)for(const i in r)e[i]=r[i]}return e}else if(fe(t)||ce(t))return t}const pl=/;(?![^(]*\))/g,gl=/:([^]+)/,ml=/\/\*[^]*?\*\//g;function _l(t){const e={};return t.replace(ml,"").split(pl).forEach(s=>{if(s){const n=s.split(gl);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function kr(t){let e="";if(fe(t))e=t;else if(q(t))for(let s=0;s<t.length;s++){const n=kr(t[s]);n&&(e+=n+" ")}else if(ce(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const vl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yl=Er(vl);function wo(t){return!!t||t===""}const Eo=t=>!!(t&&t.__v_isRef===!0),ge=t=>fe(t)?t:t==null?"":q(t)||ce(t)&&(t.toString===mo||!V(t.toString))?Eo(t)?ge(t.value):JSON.stringify(t,So,2):String(t),So=(t,e)=>Eo(e)?So(t,e.value):ts(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,r],i)=>(s[In(n,i)+" =>"]=r,s),{})}:po(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>In(s))}:Ot(e)?In(e):ce(e)&&!q(e)&&!_o(e)?String(e):e,In=(t,e="")=>{var s;return Ot(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ie;class To{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ie,!e&&Ie&&(this.index=(Ie.scopes||(Ie.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Ie;try{return Ie=this,e()}finally{Ie=s}}}on(){Ie=this}off(){Ie=this.parent}stop(e){if(this._active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function bl(t){return new To(t)}function wl(){return Ie}let ae;const Dn=new WeakSet;class Po{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ie&&Ie.active&&Ie.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Dn.has(this)&&(Dn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ko(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ti(this),xo(this);const e=ae,s=We;ae=this,We=!0;try{return this.fn()}finally{Ro(this),ae=e,We=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Cr(e);this.deps=this.depsTail=void 0,ti(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Dn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){tr(this)&&this.run()}get dirty(){return tr(this)}}let Oo=0,Zt;function ko(t){t.flags|=8,t.next=Zt,Zt=t}function xr(){Oo++}function Rr(){if(--Oo>0)return;let t;for(;Zt;){let e=Zt,s;for(;e;)e.flags&1||(e.flags&=-9),e=e.next;for(e=Zt,Zt=void 0;e;){if(s=e.next,e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function xo(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ro(t){let e,s=t.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),Cr(n),El(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}t.deps=e,t.depsTail=s}function tr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Co(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Co(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Cs))return;t.globalVersion=Cs;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!tr(t)){t.flags&=-3;return}const s=ae,n=We;ae=t,We=!0;try{xo(t);const r=t.fn(t._value);(e.version===0||Pt(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{ae=s,We=n,Ro(t),t.flags&=-3}}function Cr(t,e=!1){const{dep:s,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n),!s.subs&&s.computed){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Cr(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function El(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let We=!0;const Ao=[];function kt(){Ao.push(We),We=!1}function xt(){const t=Ao.pop();We=t===void 0?!0:t}function ti(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=ae;ae=void 0;try{e()}finally{ae=s}}}let Cs=0;class Sl{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ar{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ae||!We||ae===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ae)s=this.activeLink=new Sl(ae,this),ae.deps?(s.prevDep=ae.depsTail,ae.depsTail.nextDep=s,ae.depsTail=s):ae.deps=ae.depsTail=s,$o(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=ae.depsTail,s.nextDep=void 0,ae.depsTail.nextDep=s,ae.depsTail=s,ae.deps===s&&(ae.deps=n)}return s}trigger(e){this.version++,Cs++,this.notify(e)}notify(e){xr();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Rr()}}}function $o(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)$o(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const sr=new WeakMap,Lt=Symbol(""),nr=Symbol(""),As=Symbol("");function Ee(t,e,s){if(We&&ae){let n=sr.get(t);n||sr.set(t,n=new Map);let r=n.get(s);r||(n.set(s,r=new Ar),r.target=t,r.map=n,r.key=s),r.track()}}function ct(t,e,s,n,r,i){const o=sr.get(t);if(!o){Cs++;return}const a=l=>{l&&l.trigger()};if(xr(),e==="clear")o.forEach(a);else{const l=q(t),u=l&&Pr(s);if(l&&s==="length"){const c=Number(n);o.forEach((h,d)=>{(d==="length"||d===As||!Ot(d)&&d>=c)&&a(h)})}else switch(s!==void 0&&a(o.get(s)),u&&a(o.get(As)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Lt)),ts(t)&&a(o.get(nr)));break;case"delete":l||(a(o.get(Lt)),ts(t)&&a(o.get(nr)));break;case"set":ts(t)&&a(o.get(Lt));break}}Rr()}function zt(t){const e=Z(t);return e===t?e:(Ee(e,"iterate",As),Fe(t)?e:e.map(be))}function _n(t){return Ee(t=Z(t),"iterate",As),t}const Tl={__proto__:null,[Symbol.iterator](){return Ln(this,Symbol.iterator,be)},concat(...t){return zt(this).concat(...t.map(e=>q(e)?zt(e):e))},entries(){return Ln(this,"entries",t=>(t[1]=be(t[1]),t))},every(t,e){return rt(this,"every",t,e,void 0,arguments)},filter(t,e){return rt(this,"filter",t,e,s=>s.map(be),arguments)},find(t,e){return rt(this,"find",t,e,be,arguments)},findIndex(t,e){return rt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return rt(this,"findLast",t,e,be,arguments)},findLastIndex(t,e){return rt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return rt(this,"forEach",t,e,void 0,arguments)},includes(...t){return Un(this,"includes",t)},indexOf(...t){return Un(this,"indexOf",t)},join(t){return zt(this).join(t)},lastIndexOf(...t){return Un(this,"lastIndexOf",t)},map(t,e){return rt(this,"map",t,e,void 0,arguments)},pop(){return ps(this,"pop")},push(...t){return ps(this,"push",t)},reduce(t,...e){return si(this,"reduce",t,e)},reduceRight(t,...e){return si(this,"reduceRight",t,e)},shift(){return ps(this,"shift")},some(t,e){return rt(this,"some",t,e,void 0,arguments)},splice(...t){return ps(this,"splice",t)},toReversed(){return zt(this).toReversed()},toSorted(t){return zt(this).toSorted(t)},toSpliced(...t){return zt(this).toSpliced(...t)},unshift(...t){return ps(this,"unshift",t)},values(){return Ln(this,"values",be)}};function Ln(t,e,s){const n=_n(t),r=n[e]();return n!==t&&!Fe(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=s(i.value)),i}),r}const Pl=Array.prototype;function rt(t,e,s,n,r,i){const o=_n(t),a=o!==t&&!Fe(t),l=o[e];if(l!==Pl[e]){const h=l.apply(t,i);return a?be(h):h}let u=s;o!==t&&(a?u=function(h,d){return s.call(this,be(h),d,t)}:s.length>2&&(u=function(h,d){return s.call(this,h,d,t)}));const c=l.call(o,u,n);return a&&r?r(c):c}function si(t,e,s,n){const r=_n(t);let i=s;return r!==t&&(Fe(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,be(a),l,t)}),r[e](i,...n)}function Un(t,e,s){const n=Z(t);Ee(n,"iterate",As);const r=n[e](...s);return(r===-1||r===!1)&&Dr(s[0])?(s[0]=Z(s[0]),n[e](...s)):r}function ps(t,e,s=[]){kt(),xr();const n=Z(t)[e].apply(t,s);return Rr(),xt(),n}const Ol=Er("__proto__,__v_isRef,__isVue"),jo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ot));function kl(t){Ot(t)||(t=String(t));const e=Z(this);return Ee(e,"has",t),e.hasOwnProperty(t)}class Io{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?Fl:Mo:i?Uo:Lo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=q(e);if(!r){let l;if(o&&(l=Tl[s]))return l;if(s==="hasOwnProperty")return kl}const a=Reflect.get(e,s,we(e)?e:n);return(Ot(s)?jo.has(s):Ol(s))||(r||Ee(e,"get",s),i)?a:we(a)?o&&Pr(s)?a:a.value:ce(a)?r?Fo(a):yn(a):a}}class Do extends Io{constructor(e=!1){super(!1,e)}set(e,s,n,r){let i=e[s];if(!this._isShallow){const l=Mt(i);if(!Fe(n)&&!Mt(n)&&(i=Z(i),n=Z(n)),!q(e)&&we(i)&&!we(n))return l?!1:(i.value=n,!0)}const o=q(e)&&Pr(s)?Number(s)<e.length:X(e,s),a=Reflect.set(e,s,n,we(e)?e:r);return e===Z(r)&&(o?Pt(n,i)&&ct(e,"set",s,n):ct(e,"add",s,n)),a}deleteProperty(e,s){const n=X(e,s);e[s];const r=Reflect.deleteProperty(e,s);return r&&n&&ct(e,"delete",s,void 0),r}has(e,s){const n=Reflect.has(e,s);return(!Ot(s)||!jo.has(s))&&Ee(e,"has",s),n}ownKeys(e){return Ee(e,"iterate",q(e)?"length":Lt),Reflect.ownKeys(e)}}class xl extends Io{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Rl=new Do,Cl=new xl,Al=new Do(!0);const $r=t=>t,vn=t=>Reflect.getPrototypeOf(t);function qs(t,e,s=!1,n=!1){t=t.__v_raw;const r=Z(t),i=Z(e);s||(Pt(e,i)&&Ee(r,"get",e),Ee(r,"get",i));const{has:o}=vn(r),a=n?$r:s?Lr:be;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function Vs(t,e=!1){const s=this.__v_raw,n=Z(s),r=Z(t);return e||(Pt(t,r)&&Ee(n,"has",t),Ee(n,"has",r)),t===r?s.has(t):s.has(t)||s.has(r)}function zs(t,e=!1){return t=t.__v_raw,!e&&Ee(Z(t),"iterate",Lt),Reflect.get(t,"size",t)}function ni(t,e=!1){!e&&!Fe(t)&&!Mt(t)&&(t=Z(t));const s=Z(this);return vn(s).has.call(s,t)||(s.add(t),ct(s,"add",t,t)),this}function ri(t,e,s=!1){!s&&!Fe(e)&&!Mt(e)&&(e=Z(e));const n=Z(this),{has:r,get:i}=vn(n);let o=r.call(n,t);o||(t=Z(t),o=r.call(n,t));const a=i.call(n,t);return n.set(t,e),o?Pt(e,a)&&ct(n,"set",t,e):ct(n,"add",t,e),this}function ii(t){const e=Z(this),{has:s,get:n}=vn(e);let r=s.call(e,t);r||(t=Z(t),r=s.call(e,t)),n&&n.call(e,t);const i=e.delete(t);return r&&ct(e,"delete",t,void 0),i}function oi(){const t=Z(this),e=t.size!==0,s=t.clear();return e&&ct(t,"clear",void 0,void 0),s}function Ws(t,e){return function(n,r){const i=this,o=i.__v_raw,a=Z(o),l=e?$r:t?Lr:be;return!t&&Ee(a,"iterate",Lt),o.forEach((u,c)=>n.call(r,l(u),l(c),i))}}function Gs(t,e,s){return function(...n){const r=this.__v_raw,i=Z(r),o=ts(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=r[t](...n),c=s?$r:e?Lr:be;return!e&&Ee(i,"iterate",l?nr:Lt),{next(){const{value:h,done:d}=u.next();return d?{value:h,done:d}:{value:a?[c(h[0]),c(h[1])]:c(h),done:d}},[Symbol.iterator](){return this}}}}function dt(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function $l(){const t={get(i){return qs(this,i)},get size(){return zs(this)},has:Vs,add:ni,set:ri,delete:ii,clear:oi,forEach:Ws(!1,!1)},e={get(i){return qs(this,i,!1,!0)},get size(){return zs(this)},has:Vs,add(i){return ni.call(this,i,!0)},set(i,o){return ri.call(this,i,o,!0)},delete:ii,clear:oi,forEach:Ws(!1,!0)},s={get(i){return qs(this,i,!0)},get size(){return zs(this,!0)},has(i){return Vs.call(this,i,!0)},add:dt("add"),set:dt("set"),delete:dt("delete"),clear:dt("clear"),forEach:Ws(!0,!1)},n={get(i){return qs(this,i,!0,!0)},get size(){return zs(this,!0)},has(i){return Vs.call(this,i,!0)},add:dt("add"),set:dt("set"),delete:dt("delete"),clear:dt("clear"),forEach:Ws(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Gs(i,!1,!1),s[i]=Gs(i,!0,!1),e[i]=Gs(i,!1,!0),n[i]=Gs(i,!0,!0)}),[t,s,e,n]}const[jl,Il,Dl,Ll]=$l();function jr(t,e){const s=e?t?Ll:Dl:t?Il:jl;return(n,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(X(s,r)&&r in n?s:n,r,i)}const Ul={get:jr(!1,!1)},Ml={get:jr(!1,!0)},Nl={get:jr(!0,!1)};const Lo=new WeakMap,Uo=new WeakMap,Mo=new WeakMap,Fl=new WeakMap;function Bl(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Hl(t){return t.__v_skip||!Object.isExtensible(t)?0:Bl(hl(t))}function yn(t){return Mt(t)?t:Ir(t,!1,Rl,Ul,Lo)}function No(t){return Ir(t,!1,Al,Ml,Uo)}function Fo(t){return Ir(t,!0,Cl,Nl,Mo)}function Ir(t,e,s,n,r){if(!ce(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=Hl(t);if(o===0)return t;const a=new Proxy(t,o===2?n:s);return r.set(t,a),a}function ss(t){return Mt(t)?ss(t.__v_raw):!!(t&&t.__v_isReactive)}function Mt(t){return!!(t&&t.__v_isReadonly)}function Fe(t){return!!(t&&t.__v_isShallow)}function Dr(t){return t?!!t.__v_raw:!1}function Z(t){const e=t&&t.__v_raw;return e?Z(e):t}function Bo(t){return!X(t,"__v_skip")&&Object.isExtensible(t)&&yo(t,"__v_skip",!0),t}const be=t=>ce(t)?yn(t):t,Lr=t=>ce(t)?Fo(t):t;function we(t){return t?t.__v_isRef===!0:!1}function Ae(t){return Ho(t,!1)}function Kl(t){return Ho(t,!0)}function Ho(t,e){return we(t)?t:new ql(t,e)}class ql{constructor(e,s){this.dep=new Ar,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Z(e),this._value=s?e:be(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||Fe(e)||Mt(e);e=n?e:Z(e),Pt(e,s)&&(this._rawValue=e,this._value=n?e:be(e),this.dep.trigger())}}function Ut(t){return we(t)?t.value:t}const Vl={get:(t,e,s)=>e==="__v_raw"?t:Ut(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const r=t[e];return we(r)&&!we(s)?(r.value=s,!0):Reflect.set(t,e,s,n)}};function Ko(t){return ss(t)?t:new Proxy(t,Vl)}class zl{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Ar(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Cs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&ae!==this)return ko(this),!0}get value(){const e=this.dep.track();return Co(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Wl(t,e,s=!1){let n,r;return V(t)?n=t:(n=t.get,r=t.set),new zl(n,r,s)}const Js={},an=new WeakMap;let jt;function Gl(t,e=!1,s=jt){if(s){let n=an.get(s);n||an.set(s,n=[]),n.push(t)}}function Jl(t,e,s=re){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=s,u=R=>r?R:Fe(R)||r===!1||r===0?lt(R,1):lt(R);let c,h,d,g,y=!1,T=!1;if(we(t)?(h=()=>t.value,y=Fe(t)):ss(t)?(h=()=>u(t),y=!0):q(t)?(T=!0,y=t.some(R=>ss(R)||Fe(R)),h=()=>t.map(R=>{if(we(R))return R.value;if(ss(R))return u(R);if(V(R))return l?l(R,2):R()})):V(t)?e?h=l?()=>l(t,2):t:h=()=>{if(d){kt();try{d()}finally{xt()}}const R=jt;jt=c;try{return l?l(t,3,[g]):t(g)}finally{jt=R}}:h=tt,e&&r){const R=h,H=r===!0?1/0:r;h=()=>lt(R(),H)}const A=wl(),D=()=>{c.stop(),A&&Tr(A.effects,c)};if(i&&e){const R=e;e=(...H)=>{R(...H),D()}}let L=T?new Array(t.length).fill(Js):Js;const j=R=>{if(!(!(c.flags&1)||!c.dirty&&!R))if(e){const H=c.run();if(r||y||(T?H.some((le,Q)=>Pt(le,L[Q])):Pt(H,L))){d&&d();const le=jt;jt=c;try{const Q=[H,L===Js?void 0:T&&L[0]===Js?[]:L,g];l?l(e,3,Q):e(...Q),L=H}finally{jt=le}}}else c.run()};return a&&a(j),c=new Po(h),c.scheduler=o?()=>o(j,!1):j,g=R=>Gl(R,!1,c),d=c.onStop=()=>{const R=an.get(c);if(R){if(l)l(R,4);else for(const H of R)H();an.delete(c)}},e?n?j(!0):L=c.run():o?o(j.bind(null,!0),!0):c.run(),D.pause=c.pause.bind(c),D.resume=c.resume.bind(c),D.stop=D,D}function lt(t,e=1/0,s){if(e<=0||!ce(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,we(t))lt(t.value,e,s);else if(q(t))for(let n=0;n<t.length;n++)lt(t[n],e,s);else if(po(t)||ts(t))t.forEach(n=>{lt(n,e,s)});else if(_o(t)){for(const n in t)lt(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&lt(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ms(t,e,s,n){try{return n?t(...n):t()}catch(r){bn(r,e,s)}}function st(t,e,s,n){if(V(t)){const r=Ms(t,e,s,n);return r&&go(r)&&r.catch(i=>{bn(i,e,s)}),r}if(q(t)){const r=[];for(let i=0;i<t.length;i++)r.push(st(t[i],e,s,n));return r}}function bn(t,e,s,n=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||re;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){kt(),Ms(i,null,10,[t,l,u]),xt();return}}Ql(t,s,r,n,o)}function Ql(t,e,s,n=!0,r=!1){if(r)throw t;console.error(t)}let $s=!1,rr=!1;const Te=[];let Ze=0;const ns=[];let yt=null,Qt=0;const qo=Promise.resolve();let Ur=null;function Vo(t){const e=Ur||qo;return t?e.then(this?t.bind(this):t):e}function Yl(t){let e=$s?Ze+1:0,s=Te.length;for(;e<s;){const n=e+s>>>1,r=Te[n],i=js(r);i<t||i===t&&r.flags&2?e=n+1:s=n}return e}function Mr(t){if(!(t.flags&1)){const e=js(t),s=Te[Te.length-1];!s||!(t.flags&2)&&e>=js(s)?Te.push(t):Te.splice(Yl(e),0,t),t.flags|=1,zo()}}function zo(){!$s&&!rr&&(rr=!0,Ur=qo.then(Go))}function Xl(t){q(t)?ns.push(...t):yt&&t.id===-1?yt.splice(Qt+1,0,t):t.flags&1||(ns.push(t),t.flags|=1),zo()}function ai(t,e,s=$s?Ze+1:0){for(;s<Te.length;s++){const n=Te[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Te.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Wo(t){if(ns.length){const e=[...new Set(ns)].sort((s,n)=>js(s)-js(n));if(ns.length=0,yt){yt.push(...e);return}for(yt=e,Qt=0;Qt<yt.length;Qt++){const s=yt[Qt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}yt=null,Qt=0}}const js=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Go(t){rr=!1,$s=!0;try{for(Ze=0;Ze<Te.length;Ze++){const e=Te[Ze];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ms(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ze<Te.length;Ze++){const e=Te[Ze];e&&(e.flags&=-2)}Ze=0,Te.length=0,Wo(),$s=!1,Ur=null,(Te.length||ns.length)&&Go()}}let Ne=null,Jo=null;function ln(t){const e=Ne;return Ne=t,Jo=t&&t.type.__scopeId||null,e}function Zl(t,e=Ne,s){if(!e||t._n)return t;const n=(...r)=>{n._d&&gi(-1);const i=ln(e);let o;try{o=t(...r)}finally{ln(i),n._d&&gi(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Qs(t,e){if(Ne===null)return t;const s=Pn(Ne),n=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=re]=e[r];i&&(V(i)&&(i={mounted:i,updated:i}),i.deep&&lt(o),n.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Rt(t,e,s,n){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(kt(),st(l,s,8,[t.el,a,t,e]),xt())}}const ec=Symbol("_vte"),tc=t=>t.__isTeleport;function Nr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Nr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Qo(t,e){return V(t)?ve({name:t.name},e,{setup:t}):t}function Yo(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ir(t,e,s,n,r=!1){if(q(t)){t.forEach((y,T)=>ir(y,e&&(q(e)?e[T]:e),s,n,r));return}if(Ss(n)&&!r)return;const i=n.shapeFlag&4?Pn(n.component):n.el,o=r?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===re?a.refs={}:a.refs,h=a.setupState,d=Z(h),g=h===re?()=>!1:y=>X(d,y);if(u!=null&&u!==l&&(fe(u)?(c[u]=null,g(u)&&(h[u]=null)):we(u)&&(u.value=null)),V(l))Ms(l,a,12,[o,c]);else{const y=fe(l),T=we(l);if(y||T){const A=()=>{if(t.f){const D=y?g(l)?h[l]:c[l]:l.value;r?q(D)&&Tr(D,i):q(D)?D.includes(i)||D.push(i):y?(c[l]=[i],g(l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else y?(c[l]=o,g(l)&&(h[l]=o)):T&&(l.value=o,t.k&&(c[t.k]=o))};o?(A.id=-1,$e(A,s)):A()}}}const Ss=t=>!!t.type.__asyncLoader,Xo=t=>t.type.__isKeepAlive;function sc(t,e){Zo(t,"a",e)}function nc(t,e){Zo(t,"da",e)}function Zo(t,e,s=Pe){const n=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(wn(e,n,s),s){let r=s.parent;for(;r&&r.parent;)Xo(r.parent.vnode)&&rc(n,e,s,r),r=r.parent}}function rc(t,e,s,n){const r=wn(e,t,n,!0);ea(()=>{Tr(n[e],r)},s)}function wn(t,e,s=Pe,n=!1){if(s){const r=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{kt();const a=Ns(s),l=st(e,s,t,o);return a(),xt(),l});return n?r.unshift(i):r.push(i),i}}const ht=t=>(e,s=Pe)=>{(!Tn||t==="sp")&&wn(t,(...n)=>e(...n),s)},ic=ht("bm"),oc=ht("m"),ac=ht("bu"),lc=ht("u"),cc=ht("bum"),ea=ht("um"),uc=ht("sp"),hc=ht("rtg"),fc=ht("rtc");function dc(t,e=Pe){wn("ec",t,e)}const pc=Symbol.for("v-ndc");function pt(t,e,s,n){let r;const i=s,o=q(t);if(o||fe(t)){const a=o&&ss(t);let l=!1;a&&(l=!Fe(t),t=_n(t)),r=new Array(t.length);for(let u=0,c=t.length;u<c;u++)r[u]=e(l?be(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(ce(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=e(t[c],c,l,i)}}else r=[];return r}const or=t=>t?Ea(t)?Pn(t):or(t.parent):null,Ts=ve(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>or(t.parent),$root:t=>or(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Fr(t),$forceUpdate:t=>t.f||(t.f=()=>{Mr(t.update)}),$nextTick:t=>t.n||(t.n=Vo.bind(t.proxy)),$watch:t=>Dc.bind(t)}),Mn=(t,e)=>t!==re&&!t.__isScriptSetup&&X(t,e),gc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return r[e];case 4:return s[e];case 3:return i[e]}else{if(Mn(n,e))return o[e]=1,n[e];if(r!==re&&X(r,e))return o[e]=2,r[e];if((u=t.propsOptions[0])&&X(u,e))return o[e]=3,i[e];if(s!==re&&X(s,e))return o[e]=4,s[e];ar&&(o[e]=0)}}const c=Ts[e];let h,d;if(c)return e==="$attrs"&&Ee(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==re&&X(s,e))return o[e]=4,s[e];if(d=l.config.globalProperties,X(d,e))return d[e]},set({_:t},e,s){const{data:n,setupState:r,ctx:i}=t;return Mn(r,e)?(r[e]=s,!0):n!==re&&X(n,e)?(n[e]=s,!0):X(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:r,propsOptions:i}},o){let a;return!!s[o]||t!==re&&X(t,o)||Mn(e,o)||(a=i[0])&&X(a,o)||X(n,o)||X(Ts,o)||X(r.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:X(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function li(t){return q(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let ar=!0;function mc(t){const e=Fr(t),s=t.proxy,n=t.ctx;ar=!1,e.beforeCreate&&ci(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:d,beforeUpdate:g,updated:y,activated:T,deactivated:A,beforeDestroy:D,beforeUnmount:L,destroyed:j,unmounted:R,render:H,renderTracked:le,renderTriggered:Q,errorCaptured:W,serverPrefetch:P,expose:k,inheritAttrs:E,components:He,directives:Je,filters:fs}=e;if(u&&_c(u,n,null),o)for(const ne in o){const Y=o[ne];V(Y)&&(n[ne]=Y.bind(s))}if(r){const ne=r.call(s,s);ce(ne)&&(t.data=yn(ne))}if(ar=!0,i)for(const ne in i){const Y=i[ne],nt=V(Y)?Y.bind(s,s):V(Y.get)?Y.get.bind(s,s):tt,ft=!V(Y)&&V(Y.set)?Y.set.bind(s):tt,Qe=ze({get:nt,set:ft});Object.defineProperty(n,ne,{enumerable:!0,configurable:!0,get:()=>Qe.value,set:Oe=>Qe.value=Oe})}if(a)for(const ne in a)ta(a[ne],n,s,ne);if(l){const ne=V(l)?l.call(s):l;Reflect.ownKeys(ne).forEach(Y=>{sn(Y,ne[Y])})}c&&ci(c,t,"c");function pe(ne,Y){q(Y)?Y.forEach(nt=>ne(nt.bind(s))):Y&&ne(Y.bind(s))}if(pe(ic,h),pe(oc,d),pe(ac,g),pe(lc,y),pe(sc,T),pe(nc,A),pe(dc,W),pe(fc,le),pe(hc,Q),pe(cc,L),pe(ea,R),pe(uc,P),q(k))if(k.length){const ne=t.exposed||(t.exposed={});k.forEach(Y=>{Object.defineProperty(ne,Y,{get:()=>s[Y],set:nt=>s[Y]=nt})})}else t.exposed||(t.exposed={});H&&t.render===tt&&(t.render=H),E!=null&&(t.inheritAttrs=E),He&&(t.components=He),Je&&(t.directives=Je),P&&Yo(t)}function _c(t,e,s=tt){q(t)&&(t=lr(t));for(const n in t){const r=t[n];let i;ce(r)?"default"in r?i=ut(r.from||n,r.default,!0):i=ut(r.from||n):i=ut(r),we(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function ci(t,e,s){st(q(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function ta(t,e,s,n){let r=n.includes(".")?ga(s,n):()=>s[n];if(fe(t)){const i=e[t];V(i)&&nn(r,i)}else if(V(t))nn(r,t.bind(s));else if(ce(t))if(q(t))t.forEach(i=>ta(i,e,s,n));else{const i=V(t.handler)?t.handler.bind(s):e[t.handler];V(i)&&nn(r,i,t)}}function Fr(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!s&&!n?l=e:(l={},r.length&&r.forEach(u=>cn(l,u,o,!0)),cn(l,e,o)),ce(e)&&i.set(e,l),l}function cn(t,e,s,n=!1){const{mixins:r,extends:i}=e;i&&cn(t,i,s,!0),r&&r.forEach(o=>cn(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const a=vc[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const vc={data:ui,props:hi,emits:hi,methods:bs,computed:bs,beforeCreate:Se,created:Se,beforeMount:Se,mounted:Se,beforeUpdate:Se,updated:Se,beforeDestroy:Se,beforeUnmount:Se,destroyed:Se,unmounted:Se,activated:Se,deactivated:Se,errorCaptured:Se,serverPrefetch:Se,components:bs,directives:bs,watch:bc,provide:ui,inject:yc};function ui(t,e){return e?t?function(){return ve(V(t)?t.call(this,this):t,V(e)?e.call(this,this):e)}:e:t}function yc(t,e){return bs(lr(t),lr(e))}function lr(t){if(q(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Se(t,e){return t?[...new Set([].concat(t,e))]:e}function bs(t,e){return t?ve(Object.create(null),t,e):e}function hi(t,e){return t?q(t)&&q(e)?[...new Set([...t,...e])]:ve(Object.create(null),li(t),li(e??{})):e}function bc(t,e){if(!t)return e;if(!e)return t;const s=ve(Object.create(null),t);for(const n in e)s[n]=Se(t[n],e[n]);return s}function sa(){return{app:null,config:{isNativeTag:cl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wc=0;function Ec(t,e){return function(n,r=null){V(n)||(n=ve({},n)),r!=null&&!ce(r)&&(r=null);const i=sa(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:wc++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:tu,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&V(c.install)?(o.add(c),c.install(u,...h)):V(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,d){if(!l){const g=u._ceVNode||Le(n,r);return g.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),h&&e?e(g,c):t(g,c,d),l=!0,u._container=c,c.__vue_app__=u,Pn(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(st(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=rs;rs=u;try{return c()}finally{rs=h}}};return u}}let rs=null;function sn(t,e){if(Pe){let s=Pe.provides;const n=Pe.parent&&Pe.parent.provides;n===s&&(s=Pe.provides=Object.create(n)),s[t]=e}}function ut(t,e,s=!1){const n=Pe||Ne;if(n||rs){const r=rs?rs._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return s&&V(e)?e.call(n&&n.proxy):e}}const na={},ra=()=>Object.create(na),ia=t=>Object.getPrototypeOf(t)===na;function Sc(t,e,s,n=!1){const r={},i=ra();t.propsDefaults=Object.create(null),oa(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);s?t.props=n?r:No(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function Tc(t,e,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=Z(r),[l]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let d=c[h];if(En(t.emitsOptions,d))continue;const g=e[d];if(l)if(X(i,d))g!==i[d]&&(i[d]=g,u=!0);else{const y=Tt(d);r[y]=cr(l,a,y,g,t,!1)}else g!==i[d]&&(i[d]=g,u=!0)}}}else{oa(t,e,r,i)&&(u=!0);let c;for(const h in a)(!e||!X(e,h)&&((c=Ft(h))===h||!X(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(r[h]=cr(l,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!X(e,h))&&(delete i[h],u=!0)}u&&ct(t.attrs,"set","")}function oa(t,e,s,n){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Es(l))continue;const u=e[l];let c;r&&X(r,c=Tt(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:En(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(i){const l=Z(s),u=a||re;for(let c=0;c<i.length;c++){const h=i[c];s[h]=cr(r,l,h,u[h],t,!X(u,h))}}return o}function cr(t,e,s,n,r,i){const o=t[s];if(o!=null){const a=X(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&V(l)){const{propsDefaults:u}=r;if(s in u)n=u[s];else{const c=Ns(r);n=u[s]=l.call(null,e),c()}}else n=l;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Ft(s))&&(n=!0))}return n}const Pc=new WeakMap;function aa(t,e,s=!1){const n=s?Pc:e.propsCache,r=n.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!V(t)){const c=h=>{l=!0;const[d,g]=aa(h,e,!0);ve(o,d),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return ce(t)&&n.set(t,es),es;if(q(i))for(let c=0;c<i.length;c++){const h=Tt(i[c]);fi(h)&&(o[h]=re)}else if(i)for(const c in i){const h=Tt(c);if(fi(h)){const d=i[c],g=o[h]=q(d)||V(d)?{type:d}:ve({},d),y=g.type;let T=!1,A=!0;if(q(y))for(let D=0;D<y.length;++D){const L=y[D],j=V(L)&&L.name;if(j==="Boolean"){T=!0;break}else j==="String"&&(A=!1)}else T=V(y)&&y.name==="Boolean";g[0]=T,g[1]=A,(T||X(g,"default"))&&a.push(h)}}const u=[o,a];return ce(t)&&n.set(t,u),u}function fi(t){return t[0]!=="$"&&!Es(t)}const la=t=>t[0]==="_"||t==="$stable",Br=t=>q(t)?t.map(et):[et(t)],Oc=(t,e,s)=>{if(e._n)return e;const n=Zl((...r)=>Br(e(...r)),s);return n._c=!1,n},ca=(t,e,s)=>{const n=t._ctx;for(const r in t){if(la(r))continue;const i=t[r];if(V(i))e[r]=Oc(r,i,n);else if(i!=null){const o=Br(i);e[r]=()=>o}}},ua=(t,e)=>{const s=Br(e);t.slots.default=()=>s},ha=(t,e,s)=>{for(const n in e)(s||n!=="_")&&(t[n]=e[n])},kc=(t,e,s)=>{const n=t.slots=ra();if(t.vnode.shapeFlag&32){const r=e._;r?(ha(n,e,s),s&&yo(n,"_",r,!0)):ca(e,n)}else e&&ua(t,e)},xc=(t,e,s)=>{const{vnode:n,slots:r}=t;let i=!0,o=re;if(n.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:ha(r,e,s):(i=!e.$stable,ca(e,r)),o=e}else e&&(ua(t,e),o={default:1});if(i)for(const a in r)!la(a)&&o[a]==null&&delete r[a]},$e=Hc;function Rc(t){return Cc(t)}function Cc(t,e){const s=bo();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:d,setScopeId:g=tt,insertStaticContent:y}=t,T=(f,p,m,b=null,_=null,w=null,C=void 0,x=null,O=!!p.dynamicChildren)=>{if(f===p)return;f&&!gs(f,p)&&(b=v(f),Oe(f,_,w,!0),f=null),p.patchFlag===-2&&(O=!1,p.dynamicChildren=null);const{type:S,ref:B,shapeFlag:I}=p;switch(S){case Sn:A(f,p,m,b);break;case Nt:D(f,p,m,b);break;case Bn:f==null&&L(p,m,b,C);break;case _e:He(f,p,m,b,_,w,C,x,O);break;default:I&1?H(f,p,m,b,_,w,C,x,O):I&6?Je(f,p,m,b,_,w,C,x,O):(I&64||I&128)&&S.process(f,p,m,b,_,w,C,x,O,N)}B!=null&&_&&ir(B,f&&f.ref,w,p||f,!p)},A=(f,p,m,b)=>{if(f==null)n(p.el=a(p.children),m,b);else{const _=p.el=f.el;p.children!==f.children&&u(_,p.children)}},D=(f,p,m,b)=>{f==null?n(p.el=l(p.children||""),m,b):p.el=f.el},L=(f,p,m,b)=>{[f.el,f.anchor]=y(f.children,p,m,b,f.el,f.anchor)},j=({el:f,anchor:p},m,b)=>{let _;for(;f&&f!==p;)_=d(f),n(f,m,b),f=_;n(p,m,b)},R=({el:f,anchor:p})=>{let m;for(;f&&f!==p;)m=d(f),r(f),f=m;r(p)},H=(f,p,m,b,_,w,C,x,O)=>{p.type==="svg"?C="svg":p.type==="math"&&(C="mathml"),f==null?le(p,m,b,_,w,C,x,O):P(f,p,_,w,C,x,O)},le=(f,p,m,b,_,w,C,x)=>{let O,S;const{props:B,shapeFlag:I,transition:F,dirs:K}=f;if(O=f.el=o(f.type,w,B&&B.is,B),I&8?c(O,f.children):I&16&&W(f.children,O,null,b,_,Nn(f,w),C,x),K&&Rt(f,null,b,"created"),Q(O,f,f.scopeId,C,b),B){for(const ie in B)ie!=="value"&&!Es(ie)&&i(O,ie,null,B[ie],w,b);"value"in B&&i(O,"value",null,B.value,w),(S=B.onVnodeBeforeMount)&&Xe(S,b,f)}K&&Rt(f,null,b,"beforeMount");const J=Ac(_,F);J&&F.beforeEnter(O),n(O,p,m),((S=B&&B.onVnodeMounted)||J||K)&&$e(()=>{S&&Xe(S,b,f),J&&F.enter(O),K&&Rt(f,null,b,"mounted")},_)},Q=(f,p,m,b,_)=>{if(m&&g(f,m),b)for(let w=0;w<b.length;w++)g(f,b[w]);if(_){let w=_.subTree;if(p===w||_a(w.type)&&(w.ssContent===p||w.ssFallback===p)){const C=_.vnode;Q(f,C,C.scopeId,C.slotScopeIds,_.parent)}}},W=(f,p,m,b,_,w,C,x,O=0)=>{for(let S=O;S<f.length;S++){const B=f[S]=x?bt(f[S]):et(f[S]);T(null,B,p,m,b,_,w,C,x)}},P=(f,p,m,b,_,w,C)=>{const x=p.el=f.el;let{patchFlag:O,dynamicChildren:S,dirs:B}=p;O|=f.patchFlag&16;const I=f.props||re,F=p.props||re;let K;if(m&&Ct(m,!1),(K=F.onVnodeBeforeUpdate)&&Xe(K,m,p,f),B&&Rt(p,f,m,"beforeUpdate"),m&&Ct(m,!0),(I.innerHTML&&F.innerHTML==null||I.textContent&&F.textContent==null)&&c(x,""),S?k(f.dynamicChildren,S,x,m,b,Nn(p,_),w):C||Y(f,p,x,null,m,b,Nn(p,_),w,!1),O>0){if(O&16)E(x,I,F,m,_);else if(O&2&&I.class!==F.class&&i(x,"class",null,F.class,_),O&4&&i(x,"style",I.style,F.style,_),O&8){const J=p.dynamicProps;for(let ie=0;ie<J.length;ie++){const te=J[ie],xe=I[te],ye=F[te];(ye!==xe||te==="value")&&i(x,te,xe,ye,_,m)}}O&1&&f.children!==p.children&&c(x,p.children)}else!C&&S==null&&E(x,I,F,m,_);((K=F.onVnodeUpdated)||B)&&$e(()=>{K&&Xe(K,m,p,f),B&&Rt(p,f,m,"updated")},b)},k=(f,p,m,b,_,w,C)=>{for(let x=0;x<p.length;x++){const O=f[x],S=p[x],B=O.el&&(O.type===_e||!gs(O,S)||O.shapeFlag&70)?h(O.el):m;T(O,S,B,null,b,_,w,C,!0)}},E=(f,p,m,b,_)=>{if(p!==m){if(p!==re)for(const w in p)!Es(w)&&!(w in m)&&i(f,w,p[w],null,_,b);for(const w in m){if(Es(w))continue;const C=m[w],x=p[w];C!==x&&w!=="value"&&i(f,w,x,C,_,b)}"value"in m&&i(f,"value",p.value,m.value,_)}},He=(f,p,m,b,_,w,C,x,O)=>{const S=p.el=f?f.el:a(""),B=p.anchor=f?f.anchor:a("");let{patchFlag:I,dynamicChildren:F,slotScopeIds:K}=p;K&&(x=x?x.concat(K):K),f==null?(n(S,m,b),n(B,m,b),W(p.children||[],m,B,_,w,C,x,O)):I>0&&I&64&&F&&f.dynamicChildren?(k(f.dynamicChildren,F,m,_,w,C,x),(p.key!=null||_&&p===_.subTree)&&fa(f,p,!0)):Y(f,p,m,B,_,w,C,x,O)},Je=(f,p,m,b,_,w,C,x,O)=>{p.slotScopeIds=x,f==null?p.shapeFlag&512?_.ctx.activate(p,m,b,C,O):fs(p,m,b,_,w,C,O):Kt(f,p,O)},fs=(f,p,m,b,_,w,C)=>{const x=f.component=Jc(f,b,_);if(Xo(f)&&(x.ctx.renderer=N),Qc(x,!1,C),x.asyncDep){if(_&&_.registerDep(x,pe,C),!f.el){const O=x.subTree=Le(Nt);D(null,O,p,m)}}else pe(x,f,p,m,_,w,C)},Kt=(f,p,m)=>{const b=p.component=f.component;if(Fc(f,p,m))if(b.asyncDep&&!b.asyncResolved){ne(b,p,m);return}else b.next=p,b.update();else p.el=f.el,b.vnode=p},pe=(f,p,m,b,_,w,C)=>{const x=()=>{if(f.isMounted){let{next:I,bu:F,u:K,parent:J,vnode:ie}=f;{const Re=da(f);if(Re){I&&(I.el=ie.el,ne(f,I,C)),Re.asyncDep.then(()=>{f.isUnmounted||x()});return}}let te=I,xe;Ct(f,!1),I?(I.el=ie.el,ne(f,I,C)):I=ie,F&&tn(F),(xe=I.props&&I.props.onVnodeBeforeUpdate)&&Xe(xe,J,I,ie),Ct(f,!0);const ye=Fn(f),Ke=f.subTree;f.subTree=ye,T(Ke,ye,h(Ke.el),v(Ke),f,_,w),I.el=ye.el,te===null&&Bc(f,ye.el),K&&$e(K,_),(xe=I.props&&I.props.onVnodeUpdated)&&$e(()=>Xe(xe,J,I,ie),_)}else{let I;const{el:F,props:K}=p,{bm:J,m:ie,parent:te,root:xe,type:ye}=f,Ke=Ss(p);if(Ct(f,!1),J&&tn(J),!Ke&&(I=K&&K.onVnodeBeforeMount)&&Xe(I,te,p),Ct(f,!0),F&&ue){const Re=()=>{f.subTree=Fn(f),ue(F,f.subTree,f,_,null)};Ke&&ye.__asyncHydrate?ye.__asyncHydrate(F,f,Re):Re()}else{xe.ce&&xe.ce._injectChildStyle(ye);const Re=f.subTree=Fn(f);T(null,Re,m,b,f,_,w),p.el=Re.el}if(ie&&$e(ie,_),!Ke&&(I=K&&K.onVnodeMounted)){const Re=p;$e(()=>Xe(I,te,Re),_)}(p.shapeFlag&256||te&&Ss(te.vnode)&&te.vnode.shapeFlag&256)&&f.a&&$e(f.a,_),f.isMounted=!0,p=m=b=null}};f.scope.on();const O=f.effect=new Po(x);f.scope.off();const S=f.update=O.run.bind(O),B=f.job=O.runIfDirty.bind(O);B.i=f,B.id=f.uid,O.scheduler=()=>Mr(B),Ct(f,!0),S()},ne=(f,p,m)=>{p.component=f;const b=f.vnode.props;f.vnode=p,f.next=null,Tc(f,p.props,b,m),xc(f,p.children,m),kt(),ai(f),xt()},Y=(f,p,m,b,_,w,C,x,O=!1)=>{const S=f&&f.children,B=f?f.shapeFlag:0,I=p.children,{patchFlag:F,shapeFlag:K}=p;if(F>0){if(F&128){ft(S,I,m,b,_,w,C,x,O);return}else if(F&256){nt(S,I,m,b,_,w,C,x,O);return}}K&8?(B&16&&Ue(S,_,w),I!==S&&c(m,I)):B&16?K&16?ft(S,I,m,b,_,w,C,x,O):Ue(S,_,w,!0):(B&8&&c(m,""),K&16&&W(I,m,b,_,w,C,x,O))},nt=(f,p,m,b,_,w,C,x,O)=>{f=f||es,p=p||es;const S=f.length,B=p.length,I=Math.min(S,B);let F;for(F=0;F<I;F++){const K=p[F]=O?bt(p[F]):et(p[F]);T(f[F],K,m,null,_,w,C,x,O)}S>B?Ue(f,_,w,!0,!1,I):W(p,m,b,_,w,C,x,O,I)},ft=(f,p,m,b,_,w,C,x,O)=>{let S=0;const B=p.length;let I=f.length-1,F=B-1;for(;S<=I&&S<=F;){const K=f[S],J=p[S]=O?bt(p[S]):et(p[S]);if(gs(K,J))T(K,J,m,null,_,w,C,x,O);else break;S++}for(;S<=I&&S<=F;){const K=f[I],J=p[F]=O?bt(p[F]):et(p[F]);if(gs(K,J))T(K,J,m,null,_,w,C,x,O);else break;I--,F--}if(S>I){if(S<=F){const K=F+1,J=K<B?p[K].el:b;for(;S<=F;)T(null,p[S]=O?bt(p[S]):et(p[S]),m,J,_,w,C,x,O),S++}}else if(S>F)for(;S<=I;)Oe(f[S],_,w,!0),S++;else{const K=S,J=S,ie=new Map;for(S=J;S<=F;S++){const Ce=p[S]=O?bt(p[S]):et(p[S]);Ce.key!=null&&ie.set(Ce.key,S)}let te,xe=0;const ye=F-J+1;let Ke=!1,Re=0;const ds=new Array(ye);for(S=0;S<ye;S++)ds[S]=0;for(S=K;S<=I;S++){const Ce=f[S];if(xe>=ye){Oe(Ce,_,w,!0);continue}let Ye;if(Ce.key!=null)Ye=ie.get(Ce.key);else for(te=J;te<=F;te++)if(ds[te-J]===0&&gs(Ce,p[te])){Ye=te;break}Ye===void 0?Oe(Ce,_,w,!0):(ds[Ye-J]=S+1,Ye>=Re?Re=Ye:Ke=!0,T(Ce,p[Ye],m,null,_,w,C,x,O),xe++)}const Xr=Ke?$c(ds):es;for(te=Xr.length-1,S=ye-1;S>=0;S--){const Ce=J+S,Ye=p[Ce],Zr=Ce+1<B?p[Ce+1].el:b;ds[S]===0?T(null,Ye,m,Zr,_,w,C,x,O):Ke&&(te<0||S!==Xr[te]?Qe(Ye,m,Zr,2):te--)}}},Qe=(f,p,m,b,_=null)=>{const{el:w,type:C,transition:x,children:O,shapeFlag:S}=f;if(S&6){Qe(f.component.subTree,p,m,b);return}if(S&128){f.suspense.move(p,m,b);return}if(S&64){C.move(f,p,m,N);return}if(C===_e){n(w,p,m);for(let I=0;I<O.length;I++)Qe(O[I],p,m,b);n(f.anchor,p,m);return}if(C===Bn){j(f,p,m);return}if(b!==2&&S&1&&x)if(b===0)x.beforeEnter(w),n(w,p,m),$e(()=>x.enter(w),_);else{const{leave:I,delayLeave:F,afterLeave:K}=x,J=()=>n(w,p,m),ie=()=>{I(w,()=>{J(),K&&K()})};F?F(w,J,ie):ie()}else n(w,p,m)},Oe=(f,p,m,b=!1,_=!1)=>{const{type:w,props:C,ref:x,children:O,dynamicChildren:S,shapeFlag:B,patchFlag:I,dirs:F,cacheIndex:K}=f;if(I===-2&&(_=!1),x!=null&&ir(x,null,m,f,!0),K!=null&&(p.renderCache[K]=void 0),B&256){p.ctx.deactivate(f);return}const J=B&1&&F,ie=!Ss(f);let te;if(ie&&(te=C&&C.onVnodeBeforeUnmount)&&Xe(te,p,f),B&6)Ks(f.component,m,b);else{if(B&128){f.suspense.unmount(m,b);return}J&&Rt(f,null,p,"beforeUnmount"),B&64?f.type.remove(f,p,m,N,b):S&&!S.hasOnce&&(w!==_e||I>0&&I&64)?Ue(S,p,m,!1,!0):(w===_e&&I&384||!_&&B&16)&&Ue(O,p,m),b&&qt(f)}(ie&&(te=C&&C.onVnodeUnmounted)||J)&&$e(()=>{te&&Xe(te,p,f),J&&Rt(f,null,p,"unmounted")},m)},qt=f=>{const{type:p,el:m,anchor:b,transition:_}=f;if(p===_e){Vt(m,b);return}if(p===Bn){R(f);return}const w=()=>{r(m),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(f.shapeFlag&1&&_&&!_.persisted){const{leave:C,delayLeave:x}=_,O=()=>C(m,w);x?x(f.el,w,O):O()}else w()},Vt=(f,p)=>{let m;for(;f!==p;)m=d(f),r(f),f=m;r(p)},Ks=(f,p,m)=>{const{bum:b,scope:_,job:w,subTree:C,um:x,m:O,a:S}=f;di(O),di(S),b&&tn(b),_.stop(),w&&(w.flags|=8,Oe(C,f,p,m)),x&&$e(x,p),$e(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Ue=(f,p,m,b=!1,_=!1,w=0)=>{for(let C=w;C<f.length;C++)Oe(f[C],p,m,b,_)},v=f=>{if(f.shapeFlag&6)return v(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const p=d(f.anchor||f.el),m=p&&p[ec];return m?d(m):p};let U=!1;const $=(f,p,m)=>{f==null?p._vnode&&Oe(p._vnode,null,null,!0):T(p._vnode||null,f,p,null,null,null,m),p._vnode=f,U||(U=!0,ai(),Wo(),U=!1)},N={p:T,um:Oe,m:Qe,r:qt,mt:fs,mc:W,pc:Y,pbc:k,n:v,o:t};let ee,ue;return{render:$,hydrate:ee,createApp:Ec($,ee)}}function Nn({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Ct({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Ac(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function fa(t,e,s=!1){const n=t.children,r=e.children;if(q(n)&&q(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=bt(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&fa(o,a)),a.type===Sn&&(a.el=o.el)}}function $c(t){const e=t.slice(),s=[0];let n,r,i,o,a;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(r=s[s.length-1],t[r]<u){e[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function da(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:da(e)}function di(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const jc=Symbol.for("v-scx"),Ic=()=>ut(jc);function nn(t,e,s){return pa(t,e,s)}function pa(t,e,s=re){const{immediate:n,deep:r,flush:i,once:o}=s,a=ve({},s);let l;if(Tn)if(i==="sync"){const d=Ic();l=d.__watcherHandles||(d.__watcherHandles=[])}else if(!e||n)a.once=!0;else{const d=()=>{};return d.stop=tt,d.resume=tt,d.pause=tt,d}const u=Pe;a.call=(d,g,y)=>st(d,u,g,y);let c=!1;i==="post"?a.scheduler=d=>{$e(d,u&&u.suspense)}:i!=="sync"&&(c=!0,a.scheduler=(d,g)=>{g?d():Mr(d)}),a.augmentJob=d=>{e&&(d.flags|=4),c&&(d.flags|=2,u&&(d.id=u.uid,d.i=u))};const h=Jl(t,e,a);return l&&l.push(h),h}function Dc(t,e,s){const n=this.proxy,r=fe(t)?t.includes(".")?ga(n,t):()=>n[t]:t.bind(n,n);let i;V(e)?i=e:(i=e.handler,s=e);const o=Ns(this),a=pa(r,i.bind(n),s);return o(),a}function ga(t,e){const s=e.split(".");return()=>{let n=t;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const Lc=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Tt(e)}Modifiers`]||t[`${Ft(e)}Modifiers`];function Uc(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||re;let r=s;const i=e.startsWith("update:"),o=i&&Lc(n,e.slice(7));o&&(o.trim&&(r=s.map(c=>fe(c)?c.trim():c)),o.number&&(r=s.map(er)));let a,l=n[a=jn(e)]||n[a=jn(Tt(e))];!l&&i&&(l=n[a=jn(Ft(e))]),l&&st(l,t,6,r);const u=n[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,st(u,t,6,r)}}function ma(t,e,s=!1){const n=e.emitsCache,r=n.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!V(t)){const l=u=>{const c=ma(u,e,!0);c&&(a=!0,ve(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ce(t)&&n.set(t,null),null):(q(i)?i.forEach(l=>o[l]=null):ve(o,i),ce(t)&&n.set(t,o),o)}function En(t,e){return!t||!pn(e)?!1:(e=e.slice(2).replace(/Once$/,""),X(t,e[0].toLowerCase()+e.slice(1))||X(t,Ft(e))||X(t,e))}function Fn(t){const{type:e,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:d,setupState:g,ctx:y,inheritAttrs:T}=t,A=ln(t);let D,L;try{if(s.shapeFlag&4){const R=r||n,H=R;D=et(u.call(H,R,c,h,g,d,y)),L=a}else{const R=e;D=et(R.length>1?R(h,{attrs:a,slots:o,emit:l}):R(h,null)),L=e.props?a:Mc(a)}}catch(R){Ps.length=0,bn(R,t,1),D=Le(Nt)}let j=D;if(L&&T!==!1){const R=Object.keys(L),{shapeFlag:H}=j;R.length&&H&7&&(i&&R.some(Sr)&&(L=Nc(L,i)),j=os(j,L,!1,!0))}return s.dirs&&(j=os(j,null,!1,!0),j.dirs=j.dirs?j.dirs.concat(s.dirs):s.dirs),s.transition&&Nr(j,s.transition),D=j,ln(A),D}const Mc=t=>{let e;for(const s in t)(s==="class"||s==="style"||pn(s))&&((e||(e={}))[s]=t[s]);return e},Nc=(t,e)=>{const s={};for(const n in t)(!Sr(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function Fc(t,e,s){const{props:n,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?pi(n,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const d=c[h];if(o[d]!==n[d]&&!En(u,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?pi(n,o,u):!0:!!o;return!1}function pi(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(e[i]!==t[i]&&!En(s,i))return!0}return!1}function Bc({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const _a=t=>t.__isSuspense;function Hc(t,e){e&&e.pendingBranch?q(t)?e.effects.push(...t):e.effects.push(t):Xl(t)}const _e=Symbol.for("v-fgt"),Sn=Symbol.for("v-txt"),Nt=Symbol.for("v-cmt"),Bn=Symbol.for("v-stc"),Ps=[];let De=null;function he(t=!1){Ps.push(De=t?null:[])}function Kc(){Ps.pop(),De=Ps[Ps.length-1]||null}let Is=1;function gi(t){Is+=t,t<0&&De&&(De.hasOnce=!0)}function va(t){return t.dynamicChildren=Is>0?De||es:null,Kc(),Is>0&&De&&De.push(t),t}function de(t,e,s,n,r,i){return va(M(t,e,s,n,r,i,!0))}function ya(t,e,s,n,r){return va(Le(t,e,s,n,r,!0))}function un(t){return t?t.__v_isVNode===!0:!1}function gs(t,e){return t.type===e.type&&t.key===e.key}const ba=({key:t})=>t??null,rn=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?fe(t)||we(t)||V(t)?{i:Ne,r:t,k:e,f:!!s}:t:null);function M(t,e=null,s=null,n=0,r=null,i=t===_e?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ba(e),ref:e&&rn(e),scopeId:Jo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ne};return a?(Hr(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=fe(s)?8:16),Is>0&&!o&&De&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&De.push(l),l}const Le=qc;function qc(t,e=null,s=null,n=0,r=null,i=!1){if((!t||t===pc)&&(t=Nt),un(t)){const a=os(t,e,!0);return s&&Hr(a,s),Is>0&&!i&&De&&(a.shapeFlag&6?De[De.indexOf(t)]=a:De.push(a)),a.patchFlag=-2,a}if(eu(t)&&(t=t.__vccOpts),e){e=Vc(e);let{class:a,style:l}=e;a&&!fe(a)&&(e.class=kr(a)),ce(l)&&(Dr(l)&&!q(l)&&(l=ve({},l)),e.style=Or(l))}const o=fe(t)?1:_a(t)?128:tc(t)?64:ce(t)?4:V(t)?2:0;return M(t,e,s,n,r,o,i,!0)}function Vc(t){return t?Dr(t)||ia(t)?ve({},t):t:null}function os(t,e,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?zc(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&ba(u),ref:e&&e.ref?s&&i?q(i)?i.concat(rn(e)):[i,rn(e)]:rn(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==_e?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&os(t.ssContent),ssFallback:t.ssFallback&&os(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&Nr(c,l.clone(c)),c}function wa(t=" ",e=0){return Le(Sn,null,t,e)}function mi(t="",e=!1){return e?(he(),ya(Nt,null,t)):Le(Nt,null,t)}function et(t){return t==null||typeof t=="boolean"?Le(Nt):q(t)?Le(_e,null,t.slice()):un(t)?bt(t):Le(Sn,null,String(t))}function bt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:os(t)}function Hr(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(q(e))s=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),Hr(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!ia(e)?e._ctx=Ne:r===3&&Ne&&(Ne.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else V(e)?(e={default:e,_ctx:Ne},s=32):(e=String(e),n&64?(s=16,e=[wa(e)]):s=8);t.children=e,t.shapeFlag|=s}function zc(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=kr([e.class,n.class]));else if(r==="style")e.style=Or([e.style,n.style]);else if(pn(r)){const i=e[r],o=n[r];o&&i!==o&&!(q(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=n[r])}return e}function Xe(t,e,s,n=null){st(t,e,7,[s,n])}const Wc=sa();let Gc=0;function Jc(t,e,s){const n=t.type,r=(e?e.appContext:t.appContext)||Wc,i={uid:Gc++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new To(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:aa(n,r),emitsOptions:ma(n,r),emit:null,emitted:null,propsDefaults:re,inheritAttrs:n.inheritAttrs,ctx:re,data:re,props:re,attrs:re,slots:re,refs:re,setupState:re,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Uc.bind(null,i),t.ce&&t.ce(i),i}let Pe=null,hn,ur;{const t=bo(),e=(s,n)=>{let r;return(r=t[s])||(r=t[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};hn=e("__VUE_INSTANCE_SETTERS__",s=>Pe=s),ur=e("__VUE_SSR_SETTERS__",s=>Tn=s)}const Ns=t=>{const e=Pe;return hn(t),t.scope.on(),()=>{t.scope.off(),hn(e)}},_i=()=>{Pe&&Pe.scope.off(),hn(null)};function Ea(t){return t.vnode.shapeFlag&4}let Tn=!1;function Qc(t,e=!1,s=!1){e&&ur(e);const{props:n,children:r}=t.vnode,i=Ea(t);Sc(t,n,i,e),kc(t,r,s);const o=i?Yc(t,e):void 0;return e&&ur(!1),o}function Yc(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,gc);const{setup:n}=s;if(n){const r=t.setupContext=n.length>1?Zc(t):null,i=Ns(t);kt();const o=Ms(n,t,0,[t.props,r]);if(xt(),i(),go(o)){if(Ss(t)||Yo(t),o.then(_i,_i),e)return o.then(a=>{vi(t,a,e)}).catch(a=>{bn(a,t,0)});t.asyncDep=o}else vi(t,o,e)}else Sa(t,e)}function vi(t,e,s){V(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ce(e)&&(t.setupState=Ko(e)),Sa(t,s)}let yi;function Sa(t,e,s){const n=t.type;if(!t.render){if(!e&&yi&&!n.render){const r=n.template||Fr(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=n,u=ve(ve({isCustomElement:i,delimiters:a},o),l);n.render=yi(r,u)}}t.render=n.render||tt}{const r=Ns(t);kt();try{mc(t)}finally{xt(),r()}}}const Xc={get(t,e){return Ee(t,"get",""),t[e]}};function Zc(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Xc),slots:t.slots,emit:t.emit,expose:e}}function Pn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ko(Bo(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Ts)return Ts[s](t)},has(e,s){return s in e||s in Ts}})):t.proxy}function eu(t){return V(t)&&"__vccOpts"in t}const ze=(t,e)=>Wl(t,e,Tn);function Ta(t,e,s){const n=arguments.length;return n===2?ce(e)&&!q(e)?un(e)?Le(t,null,[e]):Le(t,e):Le(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&un(s)&&(s=[s]),Le(t,e,s))}const tu="3.5.10";/**
* @vue/runtime-dom v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let hr;const bi=typeof window<"u"&&window.trustedTypes;if(bi)try{hr=bi.createPolicy("vue",{createHTML:t=>t})}catch{}const Pa=hr?t=>hr.createHTML(t):t=>t,su="http://www.w3.org/2000/svg",nu="http://www.w3.org/1998/Math/MathML",at=typeof document<"u"?document:null,wi=at&&at.createElement("template"),ru={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const r=e==="svg"?at.createElementNS(su,t):e==="mathml"?at.createElementNS(nu,t):s?at.createElement(t,{is:s}):at.createElement(t);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>at.createTextNode(t),createComment:t=>at.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>at.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,r,i){const o=s?s.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{wi.innerHTML=Pa(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=wi.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},iu=Symbol("_vtc");function ou(t,e,s){const n=t[iu];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const fn=Symbol("_vod"),Oa=Symbol("_vsh"),au={beforeMount(t,{value:e},{transition:s}){t[fn]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):ms(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:n}){!e!=!s&&(n?e?(n.beforeEnter(t),ms(t,!0),n.enter(t)):n.leave(t,()=>{ms(t,!1)}):ms(t,e))},beforeUnmount(t,{value:e}){ms(t,e)}};function ms(t,e){t.style.display=e?t[fn]:"none",t[Oa]=!e}const lu=Symbol(""),cu=/(^|;)\s*display\s*:/;function uu(t,e,s){const n=t.style,r=fe(s);let i=!1;if(s&&!r){if(e)if(fe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&on(n,a,"")}else for(const o in e)s[o]==null&&on(n,o,"");for(const o in s)o==="display"&&(i=!0),on(n,o,s[o])}else if(r){if(e!==s){const o=n[lu];o&&(s+=";"+o),n.cssText=s,i=cu.test(s)}}else e&&t.removeAttribute("style");fn in t&&(t[fn]=i?n.display:"",t[Oa]&&(n.display="none"))}const Ei=/\s*!important$/;function on(t,e,s){if(q(s))s.forEach(n=>on(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=hu(t,e);Ei.test(s)?t.setProperty(Ft(n),s.replace(Ei,""),"important"):t[n]=s}}const Si=["Webkit","Moz","ms"],Hn={};function hu(t,e){const s=Hn[e];if(s)return s;let n=Tt(e);if(n!=="filter"&&n in t)return Hn[e]=n;n=vo(n);for(let r=0;r<Si.length;r++){const i=Si[r]+n;if(i in t)return Hn[e]=i}return e}const Ti="http://www.w3.org/1999/xlink";function Pi(t,e,s,n,r,i=yl(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Ti,e.slice(6,e.length)):t.setAttributeNS(Ti,e,s):s==null||i&&!wo(s)?t.removeAttribute(e):t.setAttribute(e,i?"":Ot(s)?String(s):s)}function Oi(t,e,s,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Pa(s):s);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const o=r==="OPTION"?t.getAttribute("value")||"":t.value,a=s==null?t.type==="checkbox"?"on":"":String(s);(o!==a||!("_value"in t))&&(t.value=a),s==null&&t.removeAttribute(e),t._value=s;return}let i=!1;if(s===""||s==null){const o=typeof t[e];o==="boolean"?s=wo(s):s==null&&o==="string"?(s="",i=!0):o==="number"&&(s=0,i=!0)}try{t[e]=s}catch{}i&&t.removeAttribute(e)}function Yt(t,e,s,n){t.addEventListener(e,s,n)}function fu(t,e,s,n){t.removeEventListener(e,s,n)}const ki=Symbol("_vei");function du(t,e,s,n,r=null){const i=t[ki]||(t[ki]={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=pu(e);if(n){const u=i[e]=_u(n,r);Yt(t,a,u,l)}else o&&(fu(t,a,o,l),i[e]=void 0)}}const xi=/(?:Once|Passive|Capture)$/;function pu(t){let e;if(xi.test(t)){e={};let n;for(;n=t.match(xi);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ft(t.slice(2)),e]}let Kn=0;const gu=Promise.resolve(),mu=()=>Kn||(gu.then(()=>Kn=0),Kn=Date.now());function _u(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;st(vu(n,s.value),e,5,[n])};return s.value=t,s.attached=mu(),s}function vu(t,e){if(q(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const Ri=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,yu=(t,e,s,n,r,i)=>{const o=r==="svg";e==="class"?ou(t,n,o):e==="style"?uu(t,s,n):pn(e)?Sr(e)||du(t,e,s,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):bu(t,e,n,o))?(Oi(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Pi(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!fe(n))?Oi(t,Tt(e),n):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Pi(t,e,n,o))};function bu(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ri(e)&&V(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Ri(e)&&fe(s)?!1:e in t}const Ci=t=>{const e=t.props["onUpdate:modelValue"]||!1;return q(e)?s=>tn(e,s):e};function wu(t){t.target.composing=!0}function Ai(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const qn=Symbol("_assign"),Vn={created(t,{modifiers:{lazy:e,trim:s,number:n}},r){t[qn]=Ci(r);const i=n||r.props&&r.props.type==="number";Yt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=er(a)),t[qn](a)}),s&&Yt(t,"change",()=>{t.value=t.value.trim()}),e||(Yt(t,"compositionstart",wu),Yt(t,"compositionend",Ai),Yt(t,"change",Ai))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:r,number:i}},o){if(t[qn]=Ci(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?er(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||r&&t.value.trim()===l)||(t.value=l))}},Eu=["ctrl","shift","alt","meta"],Su={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Eu.some(s=>t[`${s}Key`]&&!e.includes(s))},At=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=(r,...i)=>{for(let o=0;o<e.length;o++){const a=Su[e[o]];if(a&&a(r,e))return}return t(r,...i)})},Tu=ve({patchProp:yu},ru);let $i;function Pu(){return $i||($i=Rc(Tu))}const Ou=(...t)=>{const e=Pu().createApp(...t),{mount:s}=e;return e.mount=n=>{const r=xu(n);if(!r)return;const i=e._component;!V(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,ku(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function ku(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function xu(t){return fe(t)?document.querySelector(t):t}var Ru=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */const Cu=Symbol();var ji;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ji||(ji={}));function Au(){const t=bl(!0),e=t.run(()=>Ae({}));let s=[],n=[];const r=Bo({install(i){r._a=i,i.provide(Cu,r),i.config.globalProperties.$pinia=r,n.forEach(o=>s.push(o)),n=[]},use(i){return!this._a&&!Ru?n.push(i):s.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return r}/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Xt=typeof document<"u";function ka(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function $u(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&ka(t.default)}const se=Object.assign;function zn(t,e){const s={};for(const n in e){const r=e[n];s[n]=Ge(r)?r.map(t):t(r)}return s}const Os=()=>{},Ge=Array.isArray,xa=/#/g,ju=/&/g,Iu=/\//g,Du=/=/g,Lu=/\?/g,Ra=/\+/g,Uu=/%5B/g,Mu=/%5D/g,Ca=/%5E/g,Nu=/%60/g,Aa=/%7B/g,Fu=/%7C/g,$a=/%7D/g,Bu=/%20/g;function Kr(t){return encodeURI(""+t).replace(Fu,"|").replace(Uu,"[").replace(Mu,"]")}function Hu(t){return Kr(t).replace(Aa,"{").replace($a,"}").replace(Ca,"^")}function fr(t){return Kr(t).replace(Ra,"%2B").replace(Bu,"+").replace(xa,"%23").replace(ju,"%26").replace(Nu,"`").replace(Aa,"{").replace($a,"}").replace(Ca,"^")}function Ku(t){return fr(t).replace(Du,"%3D")}function qu(t){return Kr(t).replace(xa,"%23").replace(Lu,"%3F")}function Vu(t){return t==null?"":qu(t).replace(Iu,"%2F")}function Ds(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const zu=/\/$/,Wu=t=>t.replace(zu,"");function Wn(t,e,s="/"){let n,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=Yu(n??e,s),{fullPath:n+(i&&"?")+i+o,path:n,query:r,hash:Ds(o)}}function Gu(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Ii(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Ju(t,e,s){const n=e.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&as(e.matched[n],s.matched[r])&&ja(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function as(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ja(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Qu(t[s],e[s]))return!1;return!0}function Qu(t,e){return Ge(t)?Di(t,e):Ge(e)?Di(e,t):t===e}function Di(t,e){return Ge(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function Yu(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const gt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ls;(function(t){t.pop="pop",t.push="push"})(Ls||(Ls={}));var ks;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ks||(ks={}));function Xu(t){if(!t)if(Xt){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Wu(t)}const Zu=/^[^#]+#/;function eh(t,e){return t.replace(Zu,"#")+e}function th(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const On=()=>({left:window.scrollX,top:window.scrollY});function sh(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;e=th(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Li(t,e){return(history.state?history.state.position-e:-1)+t}const dr=new Map;function nh(t,e){dr.set(t,e)}function rh(t){const e=dr.get(t);return dr.delete(t),e}let ih=()=>location.protocol+"//"+location.host;function Ia(t,e){const{pathname:s,search:n,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Ii(l,"")}return Ii(s,t)+n+r}function oh(t,e,s,n){let r=[],i=[],o=null;const a=({state:d})=>{const g=Ia(t,location),y=s.value,T=e.value;let A=0;if(d){if(s.value=g,e.value=d,o&&o===y){o=null;return}A=T?d.position-T.position:0}else n(g);r.forEach(D=>{D(s.value,y,{delta:A,type:Ls.pop,direction:A?A>0?ks.forward:ks.back:ks.unknown})})};function l(){o=s.value}function u(d){r.push(d);const g=()=>{const y=r.indexOf(d);y>-1&&r.splice(y,1)};return i.push(g),g}function c(){const{history:d}=window;d.state&&d.replaceState(se({},d.state,{scroll:On()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function Ui(t,e,s,n=!1,r=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:r?On():null}}function ah(t){const{history:e,location:s}=window,n={value:Ia(t,s)},r={value:e.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=t.indexOf("#"),d=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+l:ih()+t+l;try{e[c?"replaceState":"pushState"](u,"",d),r.value=u}catch(g){console.error(g),s[c?"replace":"assign"](d)}}function o(l,u){const c=se({},e.state,Ui(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});i(l,c,!0),n.value=l}function a(l,u){const c=se({},r.value,e.state,{forward:l,scroll:On()});i(c.current,c,!0);const h=se({},Ui(n.value,l,null),{position:c.position+1},u);i(l,h,!1),n.value=l}return{location:n,state:r,push:a,replace:o}}function lh(t){t=Xu(t);const e=ah(t),s=oh(t,e.state,e.location,e.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=se({location:"",base:t,go:n,createHref:eh.bind(null,t)},e,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function ch(t){return typeof t=="string"||t&&typeof t=="object"}function Da(t){return typeof t=="string"||typeof t=="symbol"}const La=Symbol("");var Mi;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Mi||(Mi={}));function ls(t,e){return se(new Error,{type:t,[La]:!0},e)}function it(t,e){return t instanceof Error&&La in t&&(e==null||!!(t.type&e))}const Ni="[^/]+?",uh={sensitive:!1,strict:!1,start:!0,end:!0},hh=/[.+*?^${}()[\]/\\]/g;function fh(t,e){const s=se({},uh,e),n=[];let r=s.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];s.strict&&!u.length&&(r+="/");for(let h=0;h<u.length;h++){const d=u[h];let g=40+(s.sensitive?.25:0);if(d.type===0)h||(r+="/"),r+=d.value.replace(hh,"\\$&"),g+=40;else if(d.type===1){const{value:y,repeatable:T,optional:A,regexp:D}=d;i.push({name:y,repeatable:T,optional:A});const L=D||Ni;if(L!==Ni){g+=10;try{new RegExp(`(${L})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${y}" (${L}): `+R.message)}}let j=T?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;h||(j=A&&u.length<2?`(?:/${j})`:"/"+j),A&&(j+="?"),r+=j,g+=20,A&&(g+=-8),T&&(g+=-20),L===".*"&&(g+=-50)}c.push(g)}n.push(c)}if(s.strict&&s.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let d=1;d<c.length;d++){const g=c[d]||"",y=i[d-1];h[y.name]=g&&y.repeatable?g.split("/"):g}return h}function l(u){let c="",h=!1;for(const d of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const g of d)if(g.type===0)c+=g.value;else if(g.type===1){const{value:y,repeatable:T,optional:A}=g,D=y in u?u[y]:"";if(Ge(D)&&!T)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const L=Ge(D)?D.join("/"):D;if(!L)if(A)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${y}"`);c+=L}}return c||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function dh(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Ua(t,e){let s=0;const n=t.score,r=e.score;for(;s<n.length&&s<r.length;){const i=dh(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(Fi(n))return 1;if(Fi(r))return-1}return r.length-n.length}function Fi(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ph={type:0,value:""},gh=/[a-zA-Z0-9_]/;function mh(t){if(!t)return[[]];if(t==="/")return[[ph]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${s})/"${u}": ${g}`)}let s=0,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,u="",c="";function h(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),s=1):d();break;case 4:d(),s=n;break;case 1:l==="("?s=2:gh.test(l)?d():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),r}function _h(t,e,s){const n=fh(mh(t.path),s),r=se(n,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function vh(t,e){const s=[],n=new Map;e=qi({strict:!1,end:!0,sensitive:!1},e);function r(h){return n.get(h)}function i(h,d,g){const y=!g,T=Hi(h);T.aliasOf=g&&g.record;const A=qi(e,h),D=[T];if("alias"in h){const R=typeof h.alias=="string"?[h.alias]:h.alias;for(const H of R)D.push(Hi(se({},T,{components:g?g.record.components:T.components,path:H,aliasOf:g?g.record:T})))}let L,j;for(const R of D){const{path:H}=R;if(d&&H[0]!=="/"){const le=d.record.path,Q=le[le.length-1]==="/"?"":"/";R.path=d.record.path+(H&&Q+H)}if(L=_h(R,d,A),g?g.alias.push(L):(j=j||L,j!==L&&j.alias.push(L),y&&h.name&&!Ki(L)&&o(h.name)),Ma(L)&&l(L),T.children){const le=T.children;for(let Q=0;Q<le.length;Q++)i(le[Q],L,g&&g.children[Q])}g=g||L}return j?()=>{o(j)}:Os}function o(h){if(Da(h)){const d=n.get(h);d&&(n.delete(h),s.splice(s.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=s.indexOf(h);d>-1&&(s.splice(d,1),h.record.name&&n.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const d=wh(h,s);s.splice(d,0,h),h.record.name&&!Ki(h)&&n.set(h.record.name,h)}function u(h,d){let g,y={},T,A;if("name"in h&&h.name){if(g=n.get(h.name),!g)throw ls(1,{location:h});A=g.record.name,y=se(Bi(d.params,g.keys.filter(j=>!j.optional).concat(g.parent?g.parent.keys.filter(j=>j.optional):[]).map(j=>j.name)),h.params&&Bi(h.params,g.keys.map(j=>j.name))),T=g.stringify(y)}else if(h.path!=null)T=h.path,g=s.find(j=>j.re.test(T)),g&&(y=g.parse(T),A=g.record.name);else{if(g=d.name?n.get(d.name):s.find(j=>j.re.test(d.path)),!g)throw ls(1,{location:h,currentLocation:d});A=g.record.name,y=se({},d.params,h.params),T=g.stringify(y)}const D=[];let L=g;for(;L;)D.unshift(L.record),L=L.parent;return{name:A,path:T,params:y,matched:D,meta:bh(D)}}t.forEach(h=>i(h));function c(){s.length=0,n.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function Bi(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function Hi(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:yh(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function yh(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function Ki(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function bh(t){return t.reduce((e,s)=>se(e,s.meta),{})}function qi(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}function wh(t,e){let s=0,n=e.length;for(;s!==n;){const i=s+n>>1;Ua(t,e[i])<0?n=i:s=i+1}const r=Eh(t);return r&&(n=e.lastIndexOf(r,n-1)),n}function Eh(t){let e=t;for(;e=e.parent;)if(Ma(e)&&Ua(t,e)===0)return e}function Ma({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Sh(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(Ra," "),o=i.indexOf("="),a=Ds(o<0?i:i.slice(0,o)),l=o<0?null:Ds(i.slice(o+1));if(a in e){let u=e[a];Ge(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function Vi(t){let e="";for(let s in t){const n=t[s];if(s=Ku(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(Ge(n)?n.map(i=>i&&fr(i)):[n&&fr(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function Th(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=Ge(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return e}const Ph=Symbol(""),zi=Symbol(""),qr=Symbol(""),Na=Symbol(""),pr=Symbol("");function _s(){let t=[];function e(n){return t.push(n),()=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function wt(t,e,s,n,r,i=o=>o()){const o=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=d=>{d===!1?l(ls(4,{from:s,to:e})):d instanceof Error?l(d):ch(d)?l(ls(2,{from:e,to:d})):(o&&n.enterCallbacks[r]===o&&typeof d=="function"&&o.push(d),a())},c=i(()=>t.call(n&&n.instances[r],e,s,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(d=>l(d))})}function Gn(t,e,s,n,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(ka(l)){const c=(l.__vccOpts||l)[e];c&&i.push(wt(c,s,n,o,a,r))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=$u(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const g=(h.__vccOpts||h)[e];return g&&wt(g,s,n,o,a,r)()}))}}return i}function Wi(t){const e=ut(qr),s=ut(Na),n=ze(()=>{const l=Ut(t.to);return e.resolve(l)}),r=ze(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],h=s.matched;if(!c||!h.length)return-1;const d=h.findIndex(as.bind(null,c));if(d>-1)return d;const g=Gi(l[u-2]);return u>1&&Gi(c)===g&&h[h.length-1].path!==g?h.findIndex(as.bind(null,l[u-2])):d}),i=ze(()=>r.value>-1&&Rh(s.params,n.value.params)),o=ze(()=>r.value>-1&&r.value===s.matched.length-1&&ja(s.params,n.value.params));function a(l={}){return xh(l)?e[Ut(t.replace)?"replace":"push"](Ut(t.to)).catch(Os):Promise.resolve()}return{route:n,href:ze(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}const Oh=Qo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Wi,setup(t,{slots:e}){const s=yn(Wi(t)),{options:n}=ut(qr),r=ze(()=>({[Ji(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Ji(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&e.default(s);return t.custom?i:Ta("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),kh=Oh;function xh(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Rh(t,e){for(const s in e){const n=e[s],r=t[s];if(typeof n=="string"){if(n!==r)return!1}else if(!Ge(r)||r.length!==n.length||n.some((i,o)=>i!==r[o]))return!1}return!0}function Gi(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ji=(t,e,s)=>t??e??s,Ch=Qo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=ut(pr),r=ze(()=>t.route||n.value),i=ut(zi,0),o=ze(()=>{let u=Ut(i);const{matched:c}=r.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=ze(()=>r.value.matched[o.value]);sn(zi,ze(()=>o.value+1)),sn(Ph,a),sn(pr,r);const l=Ae();return nn(()=>[l.value,a.value,t.name],([u,c,h],[d,g,y])=>{c&&(c.instances[h]=u,g&&g!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=g.leaveGuards),c.updateGuards.size||(c.updateGuards=g.updateGuards))),u&&c&&(!g||!as(c,g)||!d)&&(c.enterCallbacks[h]||[]).forEach(T=>T(u))},{flush:"post"}),()=>{const u=r.value,c=t.name,h=a.value,d=h&&h.components[c];if(!d)return Qi(s.default,{Component:d,route:u});const g=h.props[c],y=g?g===!0?u.params:typeof g=="function"?g(u):g:null,A=Ta(d,se({},y,e,{onVnodeUnmounted:D=>{D.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return Qi(s.default,{Component:A,route:u})||A}}});function Qi(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const Fa=Ch;function Ah(t){const e=vh(t.routes,t),s=t.parseQuery||Sh,n=t.stringifyQuery||Vi,r=t.history,i=_s(),o=_s(),a=_s(),l=Kl(gt);let u=gt;Xt&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=zn.bind(null,v=>""+v),h=zn.bind(null,Vu),d=zn.bind(null,Ds);function g(v,U){let $,N;return Da(v)?($=e.getRecordMatcher(v),N=U):N=v,e.addRoute(N,$)}function y(v){const U=e.getRecordMatcher(v);U&&e.removeRoute(U)}function T(){return e.getRoutes().map(v=>v.record)}function A(v){return!!e.getRecordMatcher(v)}function D(v,U){if(U=se({},U||l.value),typeof v=="string"){const p=Wn(s,v,U.path),m=e.resolve({path:p.path},U),b=r.createHref(p.fullPath);return se(p,m,{params:d(m.params),hash:Ds(p.hash),redirectedFrom:void 0,href:b})}let $;if(v.path!=null)$=se({},v,{path:Wn(s,v.path,U.path).path});else{const p=se({},v.params);for(const m in p)p[m]==null&&delete p[m];$=se({},v,{params:h(p)}),U.params=h(U.params)}const N=e.resolve($,U),ee=v.hash||"";N.params=c(d(N.params));const ue=Gu(n,se({},v,{hash:Hu(ee),path:N.path})),f=r.createHref(ue);return se({fullPath:ue,hash:ee,query:n===Vi?Th(v.query):v.query||{}},N,{redirectedFrom:void 0,href:f})}function L(v){return typeof v=="string"?Wn(s,v,l.value.path):se({},v)}function j(v,U){if(u!==v)return ls(8,{from:U,to:v})}function R(v){return Q(v)}function H(v){return R(se(L(v),{replace:!0}))}function le(v){const U=v.matched[v.matched.length-1];if(U&&U.redirect){const{redirect:$}=U;let N=typeof $=="function"?$(v):$;return typeof N=="string"&&(N=N.includes("?")||N.includes("#")?N=L(N):{path:N},N.params={}),se({query:v.query,hash:v.hash,params:N.path!=null?{}:v.params},N)}}function Q(v,U){const $=u=D(v),N=l.value,ee=v.state,ue=v.force,f=v.replace===!0,p=le($);if(p)return Q(se(L(p),{state:typeof p=="object"?se({},ee,p.state):ee,force:ue,replace:f}),U||$);const m=$;m.redirectedFrom=U;let b;return!ue&&Ju(n,N,$)&&(b=ls(16,{to:m,from:N}),Qe(N,N,!0,!1)),(b?Promise.resolve(b):k(m,N)).catch(_=>it(_)?it(_,2)?_:ft(_):Y(_,m,N)).then(_=>{if(_){if(it(_,2))return Q(se({replace:f},L(_.to),{state:typeof _.to=="object"?se({},ee,_.to.state):ee,force:ue}),U||m)}else _=He(m,N,!0,f,ee);return E(m,N,_),_})}function W(v,U){const $=j(v,U);return $?Promise.reject($):Promise.resolve()}function P(v){const U=Vt.values().next().value;return U&&typeof U.runWithContext=="function"?U.runWithContext(v):v()}function k(v,U){let $;const[N,ee,ue]=$h(v,U);$=Gn(N.reverse(),"beforeRouteLeave",v,U);for(const p of N)p.leaveGuards.forEach(m=>{$.push(wt(m,v,U))});const f=W.bind(null,v,U);return $.push(f),Ue($).then(()=>{$=[];for(const p of i.list())$.push(wt(p,v,U));return $.push(f),Ue($)}).then(()=>{$=Gn(ee,"beforeRouteUpdate",v,U);for(const p of ee)p.updateGuards.forEach(m=>{$.push(wt(m,v,U))});return $.push(f),Ue($)}).then(()=>{$=[];for(const p of ue)if(p.beforeEnter)if(Ge(p.beforeEnter))for(const m of p.beforeEnter)$.push(wt(m,v,U));else $.push(wt(p.beforeEnter,v,U));return $.push(f),Ue($)}).then(()=>(v.matched.forEach(p=>p.enterCallbacks={}),$=Gn(ue,"beforeRouteEnter",v,U,P),$.push(f),Ue($))).then(()=>{$=[];for(const p of o.list())$.push(wt(p,v,U));return $.push(f),Ue($)}).catch(p=>it(p,8)?p:Promise.reject(p))}function E(v,U,$){a.list().forEach(N=>P(()=>N(v,U,$)))}function He(v,U,$,N,ee){const ue=j(v,U);if(ue)return ue;const f=U===gt,p=Xt?history.state:{};$&&(N||f?r.replace(v.fullPath,se({scroll:f&&p&&p.scroll},ee)):r.push(v.fullPath,ee)),l.value=v,Qe(v,U,$,f),ft()}let Je;function fs(){Je||(Je=r.listen((v,U,$)=>{if(!Ks.listening)return;const N=D(v),ee=le(N);if(ee){Q(se(ee,{replace:!0}),N).catch(Os);return}u=N;const ue=l.value;Xt&&nh(Li(ue.fullPath,$.delta),On()),k(N,ue).catch(f=>it(f,12)?f:it(f,2)?(Q(f.to,N).then(p=>{it(p,20)&&!$.delta&&$.type===Ls.pop&&r.go(-1,!1)}).catch(Os),Promise.reject()):($.delta&&r.go(-$.delta,!1),Y(f,N,ue))).then(f=>{f=f||He(N,ue,!1),f&&($.delta&&!it(f,8)?r.go(-$.delta,!1):$.type===Ls.pop&&it(f,20)&&r.go(-1,!1)),E(N,ue,f)}).catch(Os)}))}let Kt=_s(),pe=_s(),ne;function Y(v,U,$){ft(v);const N=pe.list();return N.length?N.forEach(ee=>ee(v,U,$)):console.error(v),Promise.reject(v)}function nt(){return ne&&l.value!==gt?Promise.resolve():new Promise((v,U)=>{Kt.add([v,U])})}function ft(v){return ne||(ne=!v,fs(),Kt.list().forEach(([U,$])=>v?$(v):U()),Kt.reset()),v}function Qe(v,U,$,N){const{scrollBehavior:ee}=t;if(!Xt||!ee)return Promise.resolve();const ue=!$&&rh(Li(v.fullPath,0))||(N||!$)&&history.state&&history.state.scroll||null;return Vo().then(()=>ee(v,U,ue)).then(f=>f&&sh(f)).catch(f=>Y(f,v,U))}const Oe=v=>r.go(v);let qt;const Vt=new Set,Ks={currentRoute:l,listening:!0,addRoute:g,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:A,getRoutes:T,resolve:D,options:t,push:R,replace:H,go:Oe,back:()=>Oe(-1),forward:()=>Oe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:pe.add,isReady:nt,install(v){const U=this;v.component("RouterLink",kh),v.component("RouterView",Fa),v.config.globalProperties.$router=U,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>Ut(l)}),Xt&&!qt&&l.value===gt&&(qt=!0,R(r.location).catch(ee=>{}));const $={};for(const ee in gt)Object.defineProperty($,ee,{get:()=>l.value[ee],enumerable:!0});v.provide(qr,U),v.provide(Na,No($)),v.provide(pr,l);const N=v.unmount;Vt.add(v),v.unmount=function(){Vt.delete(v),Vt.size<1&&(u=gt,Je&&Je(),Je=null,l.value=gt,qt=!1,ne=!1),N()}}};function Ue(v){return v.reduce((U,$)=>U.then(()=>P($)),Promise.resolve())}return Ks}function $h(t,e){const s=[],n=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>as(u,a))?n.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(u=>as(u,l))||r.push(l))}return[s,n,r]}const jh={__name:"App",setup(t){return(e,s)=>(he(),ya(Ut(Fa)))}},Ih="modulepreload",Dh=function(t){return"/KennelMap/"+t},Yi={},cs=function(e,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(s.map(l=>{if(l=Dh(l),l in Yi)return;Yi[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Ih,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((d,g)=>{h.addEventListener("load",d),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Lh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>cs(async()=>{const{default:n}=await Promise.resolve().then(()=>hs);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class Vr extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class Uh extends Vr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Mh extends Vr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Nh extends Vr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var gr;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(gr||(gr={}));var Fh=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Bh{constructor(e,{headers:s={},customFetch:n,region:r=gr.Any}={}){this.url=e,this.headers=s,this.region=r,this.fetch=Lh(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var n;return Fh(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:u}).catch(y=>{throw new Uh(y)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Mh(c);if(!c.ok)throw new Nh(c);let d=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return d==="application/json"?g=yield c.json():d==="application/octet-stream"?g=yield c.blob():d==="text/event-stream"?g=c:d==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(r){return{data:null,error:r}}})}}var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Hh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),s}var Me={},zr={},kn={},Fs={},xn={},Rn={},Kh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},us=Kh();const qh=us.fetch,Ba=us.fetch.bind(us),Ha=us.Headers,Vh=us.Request,zh=us.Response,hs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ha,Request:Vh,Response:zh,default:Ba,fetch:qh},Symbol.toStringTag,{value:"Module"})),Wh=Hh(hs);var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});class Gh extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Wr.default=Gh;var Ka=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rn,"__esModule",{value:!0});const Jh=Ka(Wh),Qh=Ka(Wr);let Yh=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Jh.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let r=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,h=null,d=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const D=await i.text();D===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=D:c=JSON.parse(D))}const T=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),A=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");T&&A&&A.length>1&&(h=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,d=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const T=await i.text();try{u=JSON.parse(T),Array.isArray(u)&&i.status===404&&(c=[],u=null,d=200,g="OK")}catch{i.status===404&&T===""?(d=204,g="No Content"):u={message:T}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,d=200,g="OK"),u&&this.shouldThrowOnError)throw new Qh.default(u)}return{error:u,data:c,count:h,status:d,statusText:g}});return this.shouldThrowOnError||(r=r.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,s)}};Rn.default=Yh;var Xh=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xn,"__esModule",{value:!0});const Zh=Xh(Rn);let ef=class extends Zh.default{select(e){let s=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!s?"":(r==='"'&&(s=!s),r)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:n=s}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,s,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};xn.default=ef;var tf=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fs,"__esModule",{value:!0});const sf=tf(xn);let nf=class extends sf.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const n=Array.from(new Set(s)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(e,s,n){return this.url.searchParams.append(e,`not.${s}.${n}`),this}or(e,{foreignTable:s,referencedTable:n=s}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,s,n){return this.url.searchParams.append(e,`${s}.${n}`),this}};Fs.default=nf;var rf=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kn,"__esModule",{value:!0});const vs=rf(Fs);let of=class{constructor(e,{headers:s={},schema:n,fetch:r}){this.url=e,this.headers=s,this.schema=n,this.fetch=r}select(e,{head:s=!1,count:n}={}){const r=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new vs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:n=!0}={}){const r="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new vs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new vs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const n="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),s&&r.push(`count=${s}`),this.headers.Prefer=r.join(","),new vs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new vs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};kn.default=of;var Cn={},An={};Object.defineProperty(An,"__esModule",{value:!0});An.version=void 0;An.version="0.0.0-automated";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.DEFAULT_HEADERS=void 0;const af=An;Cn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${af.version}`};var qa=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zr,"__esModule",{value:!0});const lf=qa(kn),cf=qa(Fs),uf=Cn;let hf=class Va{constructor(e,{headers:s={},schema:n,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},uf.DEFAULT_HEADERS),s),this.schemaName=n,this.fetch=r}from(e){const s=new URL(`${this.url}/${e}`);return new lf.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Va(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:n=!1,get:r=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;n||r?(o=n?"HEAD":"GET",Object.entries(s).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new cf.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};zr.default=hf;var Bs=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Me,"__esModule",{value:!0});Me.PostgrestBuilder=Me.PostgrestTransformBuilder=Me.PostgrestFilterBuilder=Me.PostgrestQueryBuilder=Me.PostgrestClient=void 0;const za=Bs(zr);Me.PostgrestClient=za.default;const Wa=Bs(kn);Me.PostgrestQueryBuilder=Wa.default;const Ga=Bs(Fs);Me.PostgrestFilterBuilder=Ga.default;const Ja=Bs(xn);Me.PostgrestTransformBuilder=Ja.default;const Qa=Bs(Rn);Me.PostgrestBuilder=Qa.default;var ff=Me.default={PostgrestClient:za.default,PostgrestQueryBuilder:Wa.default,PostgrestFilterBuilder:Ga.default,PostgrestTransformBuilder:Ja.default,PostgrestBuilder:Qa.default};const{PostgrestClient:df,PostgrestQueryBuilder:Rp,PostgrestFilterBuilder:Cp,PostgrestTransformBuilder:Ap,PostgrestBuilder:$p}=ff,pf="2.10.2",gf={"X-Client-Info":`realtime-js/${pf}`},mf="1.0.0",Ya=1e4,_f=1e3;var is;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(is||(is={}));var je;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(je||(je={}));var Ve;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ve||(Ve={}));var mr;(function(t){t.websocket="websocket"})(mr||(mr={}));var Dt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Dt||(Dt={}));class vf{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const r=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+r));o=o+r;const l=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Xa{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(oe||(oe={}));const Xi=(t,e,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=yf(o,t,e,r),i),{})},yf=(t,e,s,n)=>{const r=e.find(a=>a.name===t),i=r==null?void 0:r.type,o=s[t];return i&&!n.includes(i)?Za(i,o):_r(o)},Za=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Sf(e,s)}switch(t){case oe.bool:return bf(e);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return wf(e);case oe.json:case oe.jsonb:return Ef(e);case oe.timestamp:return Tf(e);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return _r(e);default:return _r(e)}},_r=t=>t,bf=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},wf=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ef=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Sf=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Za(e,a))}return t},Tf=t=>typeof t=="string"?t.replace(" ","T"):t,el=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Jn{constructor(e,s,n={},r=Ya){this.channel=e,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Zi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Zi||(Zi={}));class xs{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xs.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=xs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=xs.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,r){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const d=c.map(A=>A.presence_ref),g=h.map(A=>A.presence_ref),y=c.filter(A=>g.indexOf(A.presence_ref)<0),T=h.filter(A=>d.indexOf(A.presence_ref)<0);y.length>0&&(a[u]=y),T.length>0&&(l[u]=T)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,r)}static syncDiff(e,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),d=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...d)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,r(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const r=e[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var eo;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(eo||(eo={}));var to;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(to||(to={}));var so;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(so||(so={}));class Gr{constructor(e,s={config:{}},n){this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Jn(this,Ve.join,this.params,this.timeout),this.rejoinTimer=new Xa(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ve.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new xs(this),this.broadcastEndpointURL=el(this.socket.endPoint)+"/api/broadcast"}subscribe(e,s=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const l={},u={broadcast:i,presence:o,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",({postgres_changes:c})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const d=this.bindings.postgres_changes,g=(h=d==null?void 0:d.length)!==null&&h!==void 0?h:0,y=[];for(let T=0;T<g;T++){const A=d[T],{filter:{event:D,schema:L,table:j,filter:R}}=A,H=c&&c[T];if(H&&H.event===D&&H.schema===L&&H.table===j&&H.filter===R)y.push(Object.assign(Object.assign({},A),{id:H.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this._on(e,s,n)}async send(e,s={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=l.body)===null||r===void 0?void 0:r.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=je.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ve.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const r=new Jn(this,Ve.leave,{},e);r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Jn(this,e,s,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ve;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,s,n);if(s&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(g=>{var y,T,A;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((A=(T=g.filter)===null||T===void 0?void 0:T.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(g=>g.callback(d,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,T,A,D,L,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const R=g.id,H=(y=g.filter)===null||y===void 0?void 0:y.event;return R&&((T=s.ids)===null||T===void 0?void 0:T.includes(R))&&(H==="*"||(H==null?void 0:H.toLocaleLowerCase())===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const R=(L=(D=g==null?void 0:g.filter)===null||D===void 0?void 0:D.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return R==="*"||R===((j=s==null?void 0:s.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof d=="object"&&"ids"in d){const y=d.data,{schema:T,table:A,commit_timestamp:D,type:L,errors:j}=y;d=Object.assign(Object.assign({},{schema:T,table:A,commit_timestamp:D,eventType:L,new:{},old:{},errors:j}),this._getPayloadRecords(y))}g.callback(d,n)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const r=e.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Gr.isEqual(r.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ve.close,{},e)}_onError(e){this._on(Ve.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Xi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Xi(e.columns,e.old_record)),s}}const Pf=()=>{},Of=typeof WebSocket<"u";class kf{constructor(e,s){var n;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=gf,this.params={},this.timeout=Ya,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Pf,this.conn=null,this.sendBuffer=[],this.serializer=new vf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>cs(async()=>{const{default:l}=await Promise.resolve().then(()=>hs);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${mr.websocket}`,this.httpEndpoint=el(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const r=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;r&&(this.accessToken=r,this.apiKey=r),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Xa(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Of){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new xf(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),cs(async()=>{const{default:e}=await import("./browser-C9WJV6G7.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case is.connecting:return Dt.Connecting;case is.open:return Dt.Open;case is.closing:return Dt.Closing;default:return Dt.Closed}}isConnected(){return this.connectionState()===Dt.Open}channel(e,s={config:{}}){const n=new Gr(`realtime:${e}`,s,this);return this.channels.push(n),n}push(e){const{topic:s,event:n,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(s=>{e&&s.updateJoinPayload({access_token:e}),s.joinedOnce&&s._isJoined()&&s._push(Ve.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mf}))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:n,event:r,payload:i,ref:o}=s;(o&&o===this.pendingHeartbeatRef||r===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ve.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${e}${n}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(_f,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class xf{constructor(e,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=is.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Jr extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function me(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Rf extends Jr{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class vr extends Jr{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Cf=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const tl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>cs(async()=>{const{default:n}=await Promise.resolve().then(()=>hs);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},Af=()=>Cf(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cs(()=>Promise.resolve().then(()=>hs),void 0)).Response:Response}),yr=t=>{if(Array.isArray(t))return t.map(s=>yr(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=yr(n)}),e};var Bt=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Qn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$f=(t,e,s)=>Bt(void 0,void 0,void 0,function*(){const n=yield Af();t instanceof n&&!(s!=null&&s.noResolveJson)?t.json().then(r=>{e(new Rf(Qn(r),t.status||500))}).catch(r=>{e(new vr(Qn(r),r))}):e(new vr(Qn(t),t))}),jf=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(r.body=JSON.stringify(n)),Object.assign(Object.assign({},r),s))};function Hs(t,e,s,n,r,i){return Bt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,jf(e,n,r,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>$f(l,a,n))})})}function dn(t,e,s,n){return Bt(this,void 0,void 0,function*(){return Hs(t,"GET",e,s,n)})}function Et(t,e,s,n,r){return Bt(this,void 0,void 0,function*(){return Hs(t,"POST",e,n,r,s)})}function If(t,e,s,n,r){return Bt(this,void 0,void 0,function*(){return Hs(t,"PUT",e,n,r,s)})}function Df(t,e,s,n){return Bt(this,void 0,void 0,function*(){return Hs(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function sl(t,e,s,n,r){return Bt(this,void 0,void 0,function*(){return Hs(t,"DELETE",e,n,r,s)})}var ke=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Lf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},no={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Uf{constructor(e,s={},n,r){this.url=e,this.headers=s,this.bucketId=n,this.fetch=tl(r)}uploadOrUpdate(e,s,n,r){return ke(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},no),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",n),l&&i.append("metadata",this.encodeMetadata(l))):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield h.json();return h.ok?{data:{path:u,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(me(i))return{data:null,error:i};throw i}})}upload(e,s,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,r){return ke(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:no.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),d=yield h.json();return h.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(me(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);s!=null&&s.upsert&&(r["x-upsert"]="true");const i=yield Et(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Jr("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}update(e,s,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return ke(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}copy(e,s,n){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield Et(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}createSignedUrl(e,s,n){return ke(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield Et(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}createSignedUrls(e,s,n){return ke(this,void 0,void 0,function*(){try{const r=yield Et(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}download(e,s){return ke(this,void 0,void 0,function*(){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield dn(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(me(a))return{data:null,error:a};throw a}})}info(e){return ke(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield dn(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:yr(n),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}exists(e){return ke(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Df(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(me(n)&&n instanceof vr){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),r=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return ke(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}list(e,s,n){return ke(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Lf),s),{prefix:e||""});return{data:yield Et(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Mf="2.7.0",Nf={"X-Client-Info":`storage-js/${Mf}`};var Wt=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Ff{constructor(e,s={},n){this.url=e,this.headers=Object.assign(Object.assign({},Nf),s),this.fetch=tl(n)}listBuckets(){return Wt(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(me(e))return{data:null,error:e};throw e}})}getBucket(e){return Wt(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Wt(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return Wt(this,void 0,void 0,function*(){try{return{data:yield If(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Wt(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Wt(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}}class Bf extends Ff{constructor(e,s={},n){super(e,s,n)}from(e){return new Uf(this.url,this.headers,e,this.fetch)}}const Hf="2.45.4";let ws="";typeof Deno<"u"?ws="deno":typeof document<"u"?ws="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ws="react-native":ws="node";const Kf={"X-Client-Info":`supabase-js-${ws}/${Hf}`},qf={headers:Kf},Vf={schema:"public"},zf={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wf={};var Gf=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Jf=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ba:e=fetch,(...s)=>e(...s)},Qf=()=>typeof Headers>"u"?Ha:Headers,Yf=(t,e,s)=>{const n=Jf(s),r=Qf();return(i,o)=>Gf(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Xf=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};function Zf(t){return t.replace(/\/$/,"")}function ed(t,e){const{db:s,auth:n,realtime:r,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},u),i),accessToken:()=>Xf(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const nl="2.65.0",td="http://localhost:9999",sd="supabase.auth.token",nd={"X-Client-Info":`gotrue-js/${nl}`},ro=10,br="X-Supabase-Api-Version",rl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function rd(t){return Math.round(Date.now()/1e3)+t}function id(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const qe=()=>typeof document<"u",$t={tested:!1,writable:!1},Rs=()=>{if(!qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($t.tested)return $t.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$t.tested=!0,$t.writable=!0}catch{$t.tested=!0,$t.writable=!1}return $t.writable};function Yn(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{e[r]=n}),e}const il=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>cs(async()=>{const{default:n}=await Promise.resolve().then(()=>hs);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},od=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ol=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Ys=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Xs=async(t,e)=>{await t.removeItem(e)};function ad(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",n,r,i,o,a,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),n=o<<2|a>>4,r=(a&15)<<4|l>>2,i=(l&3)<<6|u,s=s+String.fromCharCode(n),l!=64&&r!=0&&(s=s+String.fromCharCode(r)),u!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class $n{constructor(){this.promise=new $n.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}$n.promiseConstructor=Promise;function io(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=t.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=s[1];return JSON.parse(ad(n))}async function ld(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function cd(t,e){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function ud(t){return("0"+t.toString(16)).substr(-2)}function hd(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,ud).join("")}async function fd(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}function dd(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pd(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await fd(t);return dd(s)}async function Gt(t,e,s=!1){const n=hd();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await ol(t,`${e}-code-verifier`,r);const i=await pd(n);return[i,n===i?"plain":"s256"]}const gd=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function md(t){const e=t.headers.get(br);if(!e||!e.match(gd))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Qr extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function z(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _d extends Qr{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function vd(t){return z(t)&&t.name==="AuthApiError"}class al extends Qr{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Ht extends Qr{constructor(e,s,n,r){super(e,n,r),this.name=s,this.status=n}}class _t extends Ht{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yd(t){return z(t)&&t.name==="AuthSessionMissingError"}class Xn extends Ht{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zs extends Ht{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class en extends Ht{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oo extends Ht{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wr extends Ht{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Zn(t){return z(t)&&t.name==="AuthRetryableFetchError"}class ao extends Ht{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}var bd=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};const It=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wd=[502,503,504];async function lo(t){var e;if(!od(t))throw new wr(It(t),0);if(wd.includes(t.status))throw new wr(It(t),t.status);let s;try{s=await t.json()}catch(i){throw new al(It(i),i)}let n;const r=md(t);if(r&&r.getTime()>=rl["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new ao(It(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new _t}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ao(It(s),t.status,s.weak_password.reasons);throw new _d(It(s),t.status||500,n)}const Ed=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function G(t,e,s,n){var r;const i=Object.assign({},n==null?void 0:n.headers);i[br]||(i[br]=rl["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Sd(t,e,s+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Sd(t,e,s,n,r,i){const o=Ed(e,n,r,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new wr(It(l),0)}if(a.ok||await lo(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await lo(l)}}function vt(t){var e;let s=null;kd(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=rd(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function co(t){const e=vt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function St(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Td(t){return{data:t,error:null}}function Pd(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=t,o=bd(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Od(t){return t}function kd(t){return t.access_token&&t.refresh_token&&t.expires_in}var xd=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};class Rd{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=il(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:St})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=xd(e,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Pd,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(z(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:St})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Od});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const T=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(y.split(";")[1].split("=")[1]);u[`${A}Page`]=T}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:St})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:St})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:St})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:s,error:n}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(z(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(z(s))return{data:null,error:s};throw s}}}const Cd={getItem:t=>Rs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Rs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Rs()&&globalThis.localStorage.removeItem(t)}};function uo(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Ad(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Jt={debug:!!(globalThis&&Rs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ll extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $d extends ll{}async function jd(t,e,s){Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await s()}finally{Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $d(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Jt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}})}Ad();const Id={url:td,storageKey:sd,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nd,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ys=30*1e3,ho=3;async function fo(t,e,s){return await s()}class Us{constructor(e){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Us.nextInstanceID,Us.nextInstanceID+=1,this.instanceID>0&&qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Id),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Rd({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=il(r.fetch),this.lock=r.lock||fo,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:qe()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=jd:this.lock=fo,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Rs()?this.storage=Cd:(this.memoryStorage={},this.storage=uo(this.memoryStorage)):(this.memoryStorage={},this.storage=uo(this.memoryStorage)),qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nl}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=qe()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:n}=await this._getSessionFromURL(e);if(n)return this._debug("#_initialize()","error detecting session from URL",n),(n==null?void 0:n.message)==="Identity is already linked"||(n==null?void 0:n.message)==="Identity is already linked to another user"?{error:n}:(await this._removeSession(),{error:n});const{session:r,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",r,"redirect type",i),await this._saveSession(r),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return z(e)?{error:e}:{error:new al("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,r;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:vt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,n,r;try{let i;if("email"in e){const{email:c,password:h,options:d}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Gt(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:h,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:g,code_challenge_method:y},xform:vt})}else if("phone"in e){const{phone:c,password:h,options:d}=e;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(r=d==null?void 0:d.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:vt})}else throw new Zs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:co})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:co})}else throw new Zs("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Xn}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await Ys(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:i,error:o}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:vt});if(await Xs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Xn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=e,a=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:vt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Xn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,r,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Gt(this.storage,this.storageKey));const{error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Zs("You must provide either an email or phone number.")}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,n;try{let r,i;"options"in e&&(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:vt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var s,n,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Gt(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Td})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new _t;const{error:r}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(z(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:o}=await G(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:r,options:i}=e,{data:o,error:a}=await G(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Zs("You must provide either an email or phone number and a type")}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:St}):await this._useSession(async s=>{var n,r,i;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _t}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:St})})}catch(s){if(z(s))return yd(s)&&(await this._removeSession(),await Xs(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new _t;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Gt(this.storage,this.storageKey));const{data:u,error:c}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:St});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return io(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _t;const s=Date.now()/1e3;let n=s,r=!0,i=null;const o=io(e.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(z(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new _t;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e){try{if(!qe())throw new en("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new en("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new oo("Not a valid PKCE flow url.");const s=Yn(window.location.href);if(e){if(!s.code)throw new oo("No code detected.");const{data:L,error:j}=await this._exchangeCodeForSession(s.code);if(j)throw j;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:L.session,redirectType:null},error:null}}if(s.error||s.error_description||s.error_code)throw new en(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=s;if(!i||!a||!o||!u)throw new en("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let d=c+h;l&&(d=parseInt(l));const g=d-c;g*1e3<=ys&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const y=d-h;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,d,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,d,c);const{data:T,error:A}=await this._getUser(i);if(A)throw A;const D={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:s.type},error:null}}catch(s){if(z(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantFlow(){const e=Yn(window.location.href);return!!(qe()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Yn(window.location.href),s=await Ys(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(vd(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Xs(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const s=id(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await Gt(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(z(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:d}=i;if(d)throw d;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return qe()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(z(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(z(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await cd(async r=>(r>0&&await ld(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vt})),(r,i)=>{const o=200*Math.pow(2,r);return i&&Zn(i)&&Date.now()+o-n<ys})}catch(n){if(this._debug(s,"error",n),z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),qe()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await Ys(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<r+ro;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${ro}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Zn(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new _t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new $n;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new _t;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),z(i)){const o={session:null,error:i};return Zn(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,s,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ol(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Xs(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ys);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/ys);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${ys}ms, refresh threshold is ${ho} ticks`),r<=ho&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ll)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Gt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(z(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await G(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="phone"&&delete l.totp,e.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(z(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(z(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(z(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(e==null?void 0:e.factors)||[],r=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Us.nextInstanceID=0;const Dd=Us;class Ld extends Dd{constructor(e){super(e)}}var Ud=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Md{constructor(e,s,n){var r,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Zf(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Vf,realtime:Wf,auth:Object.assign(Object.assign({},zf),{storageKey:l}),global:qf},c=ed(n??{},u);this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Yf(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},c.realtime)),this.rest=new df(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Bh(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Bf(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Ud(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,storageKey:i,flowType:o,lock:a,debug:l},u,c){var h;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ld({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(e){return new kf(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Nd=(t,e,s)=>new Md(t,e,s),ot=Nd("https://fsamftqmgwvehwqrmlwm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZzYW1mdHFtZ3d2ZWh3cXJtbHdtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjc1NTczNjMsImV4cCI6MjA0MzEzMzM2M30.uR95eJLovJUM05RX-iG-bEzhfkcA_mRvW4NO7jdYQJM"),mt={async getRuns(t){const{data:e,error:s}=await ot.from("runs").select("*").eq("kennel_id",t);if(s)throw new Error(s.message);return e},async getRun(t){const{data:e,error:s}=await ot.from("runs").select("*").eq("id",t);if(s)throw new Error(s.message);return e},async updateRun(t){const{data:e,error:s}=await ot.from("runs").update(t).eq("id",t.id);if(s)throw new Error(s.message);return e},async getKennel(t){const{data:e,error:s}=await ot.from("kennels").select("*").eq("id",t);if(s)throw new Error(s.message);return e},async getKennelDate(t){const{data:e,error:s}=await ot.from("kennels").select("date").eq("id",t);if(s)throw new Error(s.message);return e},async getKennelList(){const{data:t,error:e}=await ot.from("kennels").select("*");if(e)throw new Error(e.message);return t},async saveKennel(t,e){const{data:s,error:n}=await ot.from("kennels").insert(e).select("id");if(n)throw new Error(n.message);let r=s[0].id;for(let i of t){i.kennel_id=r;const{runData:o,error:a}=await ot.from("runs").insert(i);if(a)throw new Error(a.message)}return r},async deleteKennel(t){const{data:e,error:s}=await ot.from("kennels").delete().eq("id",t);if(s)throw new Error(s.message);return e}},Fd=(t,e)=>{const s=t.__vccOpts||t;for(const[n,r]of e)s[n]=r;return s},Bd={id:"kennel"},Hd={id:"left"},Kd=["onClick","onDrop"],qd={class:"number"},Vd=["onDragstart"],zd={id:"middle"},Wd=["onClick","onDrop"],Gd={class:"number"},Jd=["onDragstart"],Qd=["onClick","onDrop"],Yd={class:"number"},Xd=["onDragstart"],Zd=["onClick","onDrop"],ep={class:"number"},tp=["onDragstart"],sp=["onClick","onDrop"],np={class:"number"},rp=["onDragstart"],ip=["onClick","onDrop"],op={class:"number"},ap=["onDragstart"],lp={id:"right"},cp=["onClick","onDrop"],up={class:"number"},hp=["onDragstart"],fp={id:"name-container"},dp={class:"no-print"},pp={class:"aside-left"},gp={id:"save-kennel-inputs"},mp={class:"aside-right"},_p={id:"pick-date"},vp=["onClick"],yp=["onClick"],bp={class:"loading"},wp={__name:"HomeView",setup(t){const e=Ae(!1),s=Ae(!1),n=Ae([]),r=Ae({}),i=Ae({}),o=Ae(""),a=Ae(0),l=Ae(null),u=Ae(null),c=Ae(null),h=Ae([]),d=async()=>{let W=await mt.getRuns(a.value);r.value=(await mt.getKennel(a.value))[0],h.value=await mt.getKennelList(),W.sort((P,k)=>k.number-P.number),n.value=W},g=async W=>{a.value=W,d()},y=W=>{e.value=!0,i.value=W,o.value=W.name,l.value.focus()},T=async()=>{s.value=!0,i.value.name=o.value,await mt.updateRun(i.value),s.value=!1,e.value=!1,o.value=""},A=()=>{o.value=""},D=async()=>{s.value=!0;let W=[{number:1,name:""},{number:2,name:""},{number:3,name:""},{number:4,name:""},{number:5,name:""},{number:6,name:""},{number:7,name:""},{number:8,name:""},{number:9,name:""},{number:10,name:""},{number:11,name:""},{number:11.5,name:""},{number:12,name:""},{number:13,name:""},{number:14,name:""},{number:15,name:""},{number:16,name:""},{number:17,name:""},{number:18,name:""},{number:19,name:""},{number:20,name:""},{number:21,name:""},{number:22,name:""},{number:23,name:""},{number:24,name:""},{number:25,name:""},{number:26,name:""},{number:27,name:""},{number:28,name:""},{number:29,name:""},{number:30,name:""},{number:31,name:""},{number:32,name:""},{number:33,name:""},{number:34,name:""},{number:35,name:""},{number:36,name:""},{number:37,name:""},{number:38,name:""},{number:39,name:""},{number:40,name:""},{number:41,name:""},{number:42,name:""},{number:43,name:""},{number:44,name:""},{number:45,name:""},{number:46,name:""},{number:47,name:""},{number:48,name:""}],P={name:u.value,date:c.value},k=await mt.saveKennel(W,P);u.value=null,c.value=null,await g(k),s.value=!1},L=async W=>{await mt.deleteKennel(W),g(0)},j=(W,P)=>{W.dataTransfer.setData("text/plain",P.name)},R=W=>{W.preventDefault()},H=async(W,P)=>{W.preventDefault(),W.target.classList.remove("drag-over");let k=W.dataTransfer.getData("text/plain"),E=n.value.find(He=>He.name===k);if(E.number!==P.number){if(E.name==="")return;let He=E.name;E.name=P.name,P.name=He,await mt.updateRun(E),await mt.updateRun(P)}},le=W=>{W.target.classList.add("drag-over")},Q=W=>{W.target.classList.remove("drag-over")};return d(a.value),(W,P)=>(he(),de(_e,null,[M("div",Bd,[M("div",Hd,[M("ul",null,[(he(!0),de(_e,null,pt(n.value.slice(0,12),k=>(he(),de("li",{key:k.number,onClick:E=>y(k),onDrop:E=>H(E,k),onDragover:P[0]||(P[0]=E=>R(E)),onDragenter:P[1]||(P[1]=E=>le(E)),onDragleave:P[2]||(P[2]=E=>Q(E))},[M("div",qd,ge(k.number),1),M("div",{lang:"en",class:"name",onDragstart:E=>j(E,k),draggable:"true"},ge(k.name),41,Vd)],40,Kd))),128))])]),M("div",zd,[M("ul",null,[(he(!0),de(_e,null,pt(n.value.slice(12,17),k=>(he(),de("li",{key:k.number,onClick:E=>y(k),onDrop:E=>H(E,k),onDragover:P[3]||(P[3]=E=>R(E)),onDragenter:P[4]||(P[4]=E=>le(E)),onDragleave:P[5]||(P[5]=E=>Q(E))},[M("div",Gd,ge(k.number),1),M("div",{lang:"en",class:"name",onDragstart:E=>j(E,k),draggable:"true"},ge(k.name),41,Jd)],40,Wd))),128))]),M("ul",null,[(he(!0),de(_e,null,pt(n.value.slice(17,22),k=>(he(),de("li",{key:k.number,onClick:E=>y(k),onDrop:E=>H(E,k),onDragover:P[6]||(P[6]=E=>R(E)),onDragenter:P[7]||(P[7]=E=>le(E)),onDragleave:P[8]||(P[8]=E=>Q(E))},[M("div",Yd,ge(k.number),1),M("div",{lang:"en",class:"name",onDragstart:E=>j(E,k),draggable:"true"},ge(k.name),41,Xd)],40,Qd))),128))]),M("ul",null,[(he(!0),de(_e,null,pt(n.value.slice(22,27),k=>(he(),de("li",{key:k.number,onClick:E=>y(k),onDrop:E=>H(E,k),onDragover:P[9]||(P[9]=E=>R(E)),onDragenter:P[10]||(P[10]=E=>le(E)),onDragleave:P[11]||(P[11]=E=>Q(E))},[M("div",ep,ge(k.number),1),M("div",{lang:"en",class:"name",onDragstart:E=>j(E,k),draggable:"true"},ge(k.name),41,tp)],40,Zd))),128))]),M("ul",null,[(he(!0),de(_e,null,pt(n.value.slice(27,32),k=>(he(),de("li",{key:k.number,onClick:E=>y(k),onDrop:E=>H(E,k),onDragover:P[12]||(P[12]=E=>R(E)),onDragenter:P[13]||(P[13]=E=>le(E)),onDragleave:P[14]||(P[14]=E=>Q(E))},[M("div",np,ge(k.number),1),M("div",{lang:"en",class:"name",onDragstart:E=>j(E,k),draggable:"true"},ge(k.name),41,rp)],40,sp))),128))]),M("ul",null,[(he(!0),de(_e,null,pt(n.value.slice(32,37),k=>(he(),de("li",{key:k.number,onClick:E=>y(k),onDrop:E=>H(E,k),onDragover:P[15]||(P[15]=E=>R(E)),onDragenter:P[16]||(P[16]=E=>le(E)),onDragleave:P[17]||(P[17]=E=>Q(E))},[M("div",op,ge(k.number),1),M("div",{lang:"en",class:"name",onDragstart:E=>j(E,k),draggable:"true"},ge(k.name),41,ap)],40,ip))),128))])]),M("div",lp,[M("ul",null,[(he(!0),de(_e,null,pt(n.value.slice(37,49),k=>(he(),de("li",{key:k.number,onClick:E=>y(k),onDrop:E=>H(E,k),onDragover:P[18]||(P[18]=E=>R(E)),onDragenter:P[19]||(P[19]=E=>le(E)),onDragleave:P[20]||(P[20]=E=>Q(E))},[M("div",up,ge(k.number),1),M("div",{lang:"en",class:"name",onDragstart:E=>j(E,k),draggable:"true"},ge(k.name),41,hp)],40,cp))),128))])]),e.value?(he(),de("form",{key:0,onSubmit:At(T,["prevent"])},[M("button",{type:"button",onClick:P[21]||(P[21]=At(k=>e.value=!e.value,["prevent"])),id:"close-form"},"X"),M("h2",null,"Edit Kennel "+ge(i.value.number),1),M("div",fp,[Qs(M("input",{ref_key:"dogNameInput",ref:l,type:"text",placeholder:"Name","onUpdate:modelValue":P[22]||(P[22]=k=>o.value=k)},null,512),[[Vn,o.value]]),M("button",{type:"button",onClick:At(A,["prevent"]),id:"clear-button"},"clear")]),M("button",{type:"submit",onClick:At(T,["prevent"]),id:"save"},"Save")],32)):mi("",!0)]),M("aside",dp,[M("div",pp,[M("header",null,[M("h1",null,ge(r.value.name),1)]),P[28]||(P[28]=M("div",{id:"welcome"},[M("h1",null,"Welcome to Kennel Map!"),M("p",null,"Click on a run to edit the name. Drag and drop to move dogs between runs."),M("p",null,"The name of current kennel being edited is shown above. "),M("p",null,"Use the form below to create a new, blank kennel. The list of created kennels can be selected on the right. ")],-1)),P[29]||(P[29]=M("button",{id:"print-button",onclick:"window.print()"},"Print",-1)),M("form",null,[P[27]||(P[27]=M("h2",null,"Create New Kennel",-1)),M("div",gp,[P[25]||(P[25]=M("label",{for:"kennel-name-input"},"Name",-1)),Qs(M("input",{id:"kennel-name-input",autocomplete:"off",type:"text","onUpdate:modelValue":P[23]||(P[23]=k=>u.value=k)},null,512),[[Vn,u.value]]),P[26]||(P[26]=M("label",{for:"date-input"},"Date (optional)",-1)),Qs(M("input",{id:"date-input",type:"date","onUpdate:modelValue":P[24]||(P[24]=k=>c.value=k)},null,512),[[Vn,c.value]])]),M("button",{id:"save-kennel",onClick:At(D,["prevent"])},"Create")])]),M("div",mp,[M("menu",_p,[P[30]||(P[30]=M("h2",null,"Saved Kennels",-1)),(he(!0),de(_e,null,pt(h.value,k=>(he(),de("li",{class:"current-kennel",onClick:At(E=>g(k.id),["prevent"]),key:k.id},[M("span",null,ge((k.id==r.value.id?"> ":"")+k.name),1),k.id!==0?(he(),de("button",{key:0,onClick:At(E=>L(k.id),["prevent"])},"Delete",8,yp)):mi("",!0)],8,vp))),128))])]),Qs(M("div",bp,P[31]||(P[31]=[wa(" Loading Kennel "),M("div",{class:"dot"},null,-1),M("div",{class:"dot"},null,-1),M("div",{class:"dot"},null,-1)]),512),[[au,s.value]])])],64))}},Ep=Fd(wp,[["__scopeId","data-v-b1870c1f"]]),Sp=Ah({history:lh("/KennelMap/"),routes:[{path:"/",name:"home",component:Ep}]}),Yr=Ou(jh);Yr.use(Au());Yr.use(Sp);Yr.mount("#app");export{Tp as g};
